<?xml version="1.0" encoding="UTF-8" standalone="no"?><map version="0.8.1"><node CREATED="1426313291193" ID="6dob22k7saab6d2dld682cm1a2" MODIFIED="1426313291193" TEXT="12.其他的安全边界"><node CREATED="1426313291193" ID="7kfb5rs71rqd82ov4oqvlettou" MODIFIED="1426313291193" POSITION="right" TEXT="跳转到敏感协议"><node CREATED="1426313291193" ID="4sj1so1s57rpmtsdc72la1phog" MODIFIED="1426313291193" TEXT="常见问题"><node CREATED="1426313291193" ID="1nf4bh8espoee89b4rp1e9pcm4" MODIFIED="1426313291193" TEXT="file:"><node CREATED="1426313291193" ID="7c5qjulpi411fpo81l6pg4s6ml" MODIFIED="1426313291193" TEXT="危险"><node CREATED="1426313291193" ID="2to2flf6roqqtnhm20ap6genvl" MODIFIED="1426313291193" TEXT="访问任意文件"/></node></node><node CREATED="1426313291193" ID="2m433ntrkcee5vd1aq1en1rb25" MODIFIED="1426313291193" TEXT="about:"><node CREATED="1426313291193" ID="2aquramnop95ko5lfltrqvaqml" MODIFIED="1426313291193" TEXT="危险"><node CREATED="1426313291193" ID="09siankadn51dnuct2qkq70pqt" MODIFIED="1426313291193" TEXT="访问类似about:config的特权/内部处理URL"/><node CREATED="1426313291193" ID="22fcp5hr7t7namsun2fh76l7hg" MODIFIED="1426313291193" TEXT="about:blank和about:config可能会被认为同源"/></node></node></node><node CREATED="1426313291193" ID="1telmq59p4d4k3vpl8q53r8m4r" MODIFIED="1426313291193" TEXT="当前策略"><node CREATED="1426313291193" ID="0lapeebh7oboph5552jgip61se" MODIFIED="1426313291193" TEXT="完全不受限制"><node CREATED="1426313291193" ID="0od6l0a2kn1t87vpog9s1nep9b" MODIFIED="1426313291193" TEXT="真实的网络协议（http、https、ftp等）"/><node CREATED="1426313291193" ID="2fet2fs4v3nclgbrbfid895v0v" MODIFIED="1426313291193" TEXT="大部分被封装过的伪协议（mhtml，jar等）"/><node CREATED="1426313291193" ID="7nf1vg86nj4hm3hg7pm1in9m9d" MODIFIED="1426313291193" TEXT="各插件及外部程序注册的第三方协议"/></node><node CREATED="1426313291193" ID="2pljth34epc3b7377upulif8gc" MODIFIED="1426313291193" TEXT="部分受限"><node CREATED="1426313291193" ID="5rti44mttkbe9ajadtr7o6rui1" MODIFIED="1426313291194" TEXT="file:、javascript:、vbscript:等"><node CREATED="1426313291194" ID="4pq63u0pc27kf9go45dle28ko3" MODIFIED="1426313291194" TEXT="遵从基于策略的检查"/></node></node><node CREATED="1426313291194" ID="72k2genrbn3arhh49dq8483uie" MODIFIED="1426313291194" TEXT="完全禁止"><node CREATED="1426313291194" ID="6og19ipqjkti4fubh5heqo9gpf" MODIFIED="1426313291194" TEXT="about:、res:、chrome:等特权页面"/></node></node></node><node CREATED="1426313291194" ID="6028272t1ra88qjdi0btp4lkpq" MODIFIED="1426313291194" POSITION="right" TEXT="访问内部网络"><node CREATED="1426313291194" ID="3am03634h2oa1oksc8ci0jqntk" MODIFIED="1426313291194" TEXT="问题来源"><node CREATED="1426313291194" ID="01cj57nce7smj3vgg58dqt69k0" MODIFIED="1426313291194" TEXT="源的概念是来自DNS域名的，和实际的网络边界没有关系"/></node><node CREATED="1426313291194" ID="4iafid4qdql5pllsv610i7av0f" MODIFIED="1426313291194" TEXT="作用点"><node CREATED="1426313291194" ID="50ggjrg0ft184ld14o3ctkgu44" MODIFIED="1426313291194" TEXT="对源的渗透"><node CREATED="1426313291194" ID="77m4dtd8k3t02abvgh41jbh3ca" MODIFIED="1426313291194" TEXT="场景"><node CREATED="1426313291194" ID="5t7j06sc72a235i847prpeqq52" MODIFIED="1426313291194" TEXT="诱使用户打开一个假的URL，当用户回到内网时，使用该浏览器时，之前注入的内容和真实的该URL同源"/></node><node CREATED="1426313291194" ID="6dl76vot1skn8qs96flh0niumf" MODIFIED="1426313291194" TEXT="使注入内容持久性"><node CREATED="1426313291194" ID="27lbeu401aphbq7ve06p80ke23" MODIFIED="1426313291194" TEXT="为每个页面提供一个隐藏的http://us-payroll子框架"/><node CREATED="1426313291194" ID="7f5nh6n9rodfvfrltl9s5lnbko" MODIFIED="1426313291194" TEXT="缓存污染"><node CREATED="1426313291194" ID="6n60lqque25r4cuk65d9tuf11l" MODIFIED="1426313291194" TEXT="创建持久的缓存对象，使浏览器不会重新从站点获取"/></node></node></node><node CREATED="1426313291194" ID="1usbgq4v7u7b7c8jcsrkblceuu" MODIFIED="1426313291194" TEXT="域名重绑定"><node CREATED="1426313291194" ID="0jomj8a1koc1t4se97rmfkdo1r" MODIFIED="1426313291194" TEXT="场景"><node CREATED="1426313291194" ID="6sirkqfh6po44e9qgv1u12kl0t" MODIFIED="1426313291194" TEXT="9.1节脚注"/></node><node CREATED="1426313291194" ID="72coe251v693h7f7g0s85uvrd3" MODIFIED="1426313291194" TEXT="利用"><node CREATED="1426313291194" ID="0qavn7uq1ftul8facrknpgaicp" MODIFIED="1426313291194" TEXT="通常受害者不会向目标站点发送自己的全局身份凭证"/><node CREATED="1426313291194" ID="2gah58d41mc7snam2a470btlg7" MODIFIED="1426313291194" TEXT="攻击者仍有可能窥视内网并爆破"/></node><node CREATED="1426313291194" ID="07v3lrsimmsb577olo7o73sue5" MODIFIED="1426313291194" TEXT="防护"><node CREATED="1426313291194" ID="0d7stshp3l03ckkmfp7q0e9svq" MODIFIED="1426313291194" TEXT="DNS锁定"><node CREATED="1426313291194" ID="0g6kb1ce328bcjmhlmmii3ev2u" MODIFIED="1426313291194" TEXT="浏览器把DNS响应缓存一段预定时间，限制DNS重绑定的影响"/><node CREATED="1426313291194" ID="1fnf54o1fj75d0to93afvc52v7" MODIFIED="1426313291195" TEXT="不完美"/></node></node></node><node CREATED="1426313291195" ID="7t7u4hpnlq5i3n7ks03tu24j6l" MODIFIED="1426313291195" TEXT="简单地利用XSS或XSRF漏洞"><node CREATED="1426313291195" ID="5e0do8i026f5o92loiek2a4vbi" MODIFIED="1426313291195" TEXT="例子"><node CREATED="1426313291195" ID="5d8l35r488485l41jnguh962ag" MODIFIED="1426313291195" TEXT="路由"/></node></node></node></node><node CREATED="1426313291195" ID="19k5v23p2lauvpqpo125trec6g" MODIFIED="1426313291195" POSITION="right" TEXT="禁用的端口"><node CREATED="1426313291195" ID="5r892o07sai0lq82p7ft8s83g2" MODIFIED="1426313291195" TEXT="问题"><node CREATED="1426313291195" ID="7qkfp2umng3slr2nhn1ohuue6n" MODIFIED="1426313291195" TEXT="浏览器可以跨域提交不受限制的数据，可能干扰到某些具有容错能力的非HTTP服务"/></node><node CREATED="1426313291195" ID="183j62vl73lrnt9l8dinug2dod" MODIFIED="1426313291195" TEXT="危害"><node CREATED="1426313291195" ID="6a87714mad5dig4k0hn75c1c1m" MODIFIED="1426313291195" TEXT="暴露cookie和身份信息"/></node><node CREATED="1426313291195" ID="05k2pj62erg50gjkriuruvvicr" MODIFIED="1426313291195" TEXT="解决"><node CREATED="1426313291195" ID="6o3n95lo9c4ba8sk7dkvpmoqq4" MODIFIED="1426313291195" TEXT="禁用端口"><node CREATED="1426313291195" ID="13seagn1a2rt4g6bgehdgfc97v" MODIFIED="1426313291195" TEXT="问题"><node CREATED="1426313291195" ID="1tq2mdlap4fhn4lcinopgch54j" MODIFIED="1426313291195" TEXT="有遗漏"/><node CREATED="1426313291195" ID="4cbs4g4rr6buocjcq5qksvrrtu" MODIFIED="1426313291195" TEXT="更新少"/></node></node></node></node><node CREATED="1426313291195" ID="5d5j1bocldpmvs0ahfotqnm6jh" MODIFIED="1426313291195" POSITION="left" TEXT="对第三方Cookie的限制"><node CREATED="1426313291195" ID="057a2t7ae09gqats6t812jfs2k" MODIFIED="1426313291195" TEXT="误解"><node CREATED="1426313291195" ID="4liqq0u5cdmr6uc326boi0pl2m" MODIFIED="1426313291195" TEXT="侵犯个人隐私"/></node><node CREATED="1426313291195" ID="15onu9pavispn0th7243ne4269" MODIFIED="1426313291195" TEXT="第三方Cookie"><node CREATED="1426313291195" ID="1h9ltln6b51puh95akghc66s2d" MODIFIED="1426313291195" TEXT="该Cookie的作用域与当前访问的主页面所对应的域名不一致"/><node CREATED="1426313291195" ID="5pvieaa9299ktgrc01kchfm2jq" MODIFIED="1426313291195" TEXT="用途"><node CREATED="1426313291195" ID="62v1qss25knmvoblf02tdlrnk3" MODIFIED="1426313291195" TEXT="加载第三方图片、框架、插件小程序"/></node><node CREATED="1426313291195" ID="5g0ucgvovqv9vid5je7rmhs1aq" MODIFIED="1426313291195" TEXT="机制"><node CREATED="1426313291196" ID="3f75ovr6orj7id4q56qg4qgufn" MODIFIED="1426313291196" TEXT="Firefox的DNT请求头"/><node CREATED="1426313291196" ID="5naegq2jdhmr714llk8jv6lhgn" MODIFIED="1426313291196" TEXT="IE9的Cookie黑名单"/></node><node CREATED="1426313291196" ID="2oktfpjqi3qitqtd13phblj4gt" MODIFIED="1426313291196" TEXT="浏览器的半成品"><node CREATED="1426313291196" ID="3ulp4vo2eoi5u3u5mcj8admf8m" MODIFIED="1426313291196" TEXT="IE默认禁止，除非有符合要求的P3P头"/><node CREATED="1426313291196" ID="656ulaced7g3kq88c08mgrajmg" MODIFIED="1426313291196" TEXT="Safari默认禁止，但之前已有的不受限制"/><node CREATED="1426313291196" ID="6fq4cbf6hjnediq57mke5e6uit" MODIFIED="1426313291196" TEXT="其他浏览器默认允许，可配置禁止"/></node></node></node><node CREATED="1426313291196" ID="690p6p0m7th60rjktg03tpgjnk" MODIFIED="1426313291196" POSITION="left" TEXT="安全工程速查表"><node CREATED="1426313291196" ID="5rsrfqt52btj2mhgbi0n6mnmki" MODIFIED="1426313291196" TEXT="搭建在内部网络里的Web应用时"><node CREATED="1426313291196" ID="4dc80615stpn00e2aklcb0k4pe" MODIFIED="1426313291196" TEXT="确保Web程序的设计标准合理，对敏感应用的安全Cookie使用https"/></node><node CREATED="1426313291196" ID="7t8mlkls33lnhl4i3kgk0ni6av" MODIFIED="1426313291196" TEXT="启用非HTTP服务，特别是使用非标准端口启用此类服务时"><node CREATED="1426313291196" ID="32o2pqs6d9vkitsofskvgudkvs" MODIFIED="1426313291196" TEXT="需评估浏览器无意中把HTTP请求发给该服务及浏览器把返回的响应当成HTTP/0.9的影响"/><node CREATED="1426313291196" ID="3mp98k2rd47ob5vie6fepbdmdo" MODIFIED="1426313291196" TEXT="对可能会被利用的协议，收到GET/POST请求时，立刻断开"/></node><node CREATED="1426313291196" ID="7f4djjqfmh2akpldmqkovgkoch" MODIFIED="1426313291196" TEXT="允许组件页面或沙盒内容使用第三方Cookie时"><node CREATED="1426313291196" ID="546t1kcfejaa5nls824u743tmh" MODIFIED="1426313291196" TEXT="IE：加P3P头"/><node CREATED="1426313291196" ID="6t26crkha1qhf95efrehhn62tc" MODIFIED="1426313291196" TEXT="Safari：寻找替代的身份存储方案"/></node></node></node></map>