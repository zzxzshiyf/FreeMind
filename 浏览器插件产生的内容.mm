<?xml version="1.0" encoding="UTF-8" standalone="no"?><map version="0.8.1"><node CREATED="1426313339447" ID="29vt4s644iblmutavrdkf81f7d" MODIFIED="1426313339447" TEXT="8.浏览器插件产生的内容"><node CREATED="1426313339447" ID="5t5mfs8qm11nokhmfd14tkrem8" MODIFIED="1426313339447" POSITION="right" TEXT="对插件的调用"><node CREATED="1426313339447" ID="5le688ml3lfjab3gkj8n701pth" MODIFIED="1426313339447" TEXT="显式调用"><node CREATED="1426313339447" ID="7b3g97u63jro1c5sq25dqtbgua" MODIFIED="1426313339447" TEXT="标记"><node CREATED="1426313339447" ID="3k2b7v6ne3mbk62eo0tf7cjilp" MODIFIED="1426313339447" TEXT="&lt;embed src=...&gt;"/><node CREATED="1426313339447" ID="6jjqrbalsf4k9jqbtpvbqminbq" MODIFIED="1426313339447" TEXT="&lt;object data=...&gt;"/></node><node CREATED="1426313339447" ID="0k1u80cbio6vhvsmvv6gkgeac1" MODIFIED="1426313339447" TEXT="type参数"><node CREATED="1426313339447" ID="19v32019iknp6138t039uohr71" MODIFIED="1426313339447" TEXT="type参数的MIME与浏览器注册的有效的MIME对比"><node CREATED="1426313339447" ID="5osd6jl82o12bvr8uoi7ci8gbg" MODIFIED="1426313339447" TEXT="匹配：转交对应插件"/><node CREATED="1426313339447" ID="2adujv90hnl4oftuqtcvpkdsg6" MODIFIED="1426313339447" TEXT="不匹配"><node CREATED="1426313339447" ID="5aq70pl2ee703r75vsvqvqacfg" MODIFIED="1426313339447" TEXT="检查Content-Type头"/><node CREATED="1426313339447" ID="2osgu9od9ju1g2qajt8mh84etd" MODIFIED="1426313339447" TEXT="检查URL中的文件后缀"/><node CREATED="1426313339447" ID="50ppdj6eevgibuiq16t3gtb6j3" MODIFIED="1426313339447" TEXT="提示下载插件"/></node></node></node><node CREATED="1426313339447" ID="7k4sp0adq469crk3nrfk0sru4s" MODIFIED="1426313339447" TEXT="其他输入信息"><node CREATED="1426313339447" ID="1dc9k7387dpcovepqismq4mqfb" MODIFIED="1426313339447" TEXT="&lt;object&gt;区块中嵌入&lt;param&gt;"><node CREATED="1426313339447" ID="1rev0620hl3n8phsdcfev5qsol" MODIFIED="1426313339447" TEXT="常见"/></node><node CREATED="1426313339447" ID="3b83mrkppgcr1lbleln1rgqgeh" MODIFIED="1426313339447" TEXT="&lt;embed&gt;标记里直接写非标准的参数设置项"/></node></node><node CREATED="1426313339447" ID="31tt2pbd2lkvhs52u29rhfrg9k" MODIFIED="1426313339447" TEXT="对插件Content-Type的处理"><node CREATED="1426313339447" ID="0roh0ie7r3u3rvghu2fo3cdhqe" MODIFIED="1426313339447" TEXT="问题"><node CREATED="1426313339447" ID="6tqs7jehut26bldugvfj2hkj2a" MODIFIED="1426313339447" TEXT="往往被忽略"/><node CREATED="1426313339447" ID="3c9njh6lh5h44s2nmnm7f99su1" MODIFIED="1426313339447" TEXT="每个插件都有自己完整的代码执行环境"/><node CREATED="1426313339447" ID="05ge45rohl0cf42r28qrl0va8t" MODIFIED="1426313339447" TEXT="仅靠Content-Type和其他信息判断不可靠"><node CREATED="1426313339447" ID="423pl9f9lh07sdjksk5ldefuk7" MODIFIED="1426313339447" TEXT="安全：引用的type参数和服务器端返回的Content-Type对比"/></node></node><node CREATED="1426313339447" ID="1c364dn5b32s67nl60o78fluqg" MODIFIED="1426313339447" TEXT="构造可以被识别为有效插件文件的图片"/></node></node><node CREATED="1426313339447" ID="4ln5pmo6p1dboapskmtio9nfac" MODIFIED="1426313339447" POSITION="right" TEXT="文档显示帮助程序"><node CREATED="1426313339447" ID="7nok2sq7ued1ir42jb1o7gphlp" MODIFIED="1426313339447" TEXT="注意"><node CREATED="1426313339447" ID="71pg3ge1id68o9dekpude1bn7s" MODIFIED="1426313339447" TEXT="服务器不能完全控制解析方式，有安全隐患"/></node><node CREATED="1426313339447" ID="74kmp1bpdimsbof7bflbedjo7k" MODIFIED="1426313339447" TEXT="case"><node CREATED="1426313339447" ID="2nnuaim2h5kth8f9i98o0fjv8f" MODIFIED="1426313339447" TEXT="2009 pdf 文件中的表单提交可触发javascript:URL"/><node CREATED="1426313339447" ID="2q50vvum69u1c67k1tfc3428pu" MODIFIED="1426313339447" TEXT="2007 pdf 片段ID可放入任意JS代码"/></node></node><node CREATED="1426313339447" ID="5gv1to2ckm6vq3gfsh6dih5isv" MODIFIED="1426313339447" POSITION="right" TEXT="插件的各种应用框架"><node CREATED="1426313339447" ID="56t016ctj1nci8mo21pph9lbo6" MODIFIED="1426313339447" TEXT="Adobe Flash"><node CREATED="1426313339447" ID="5jl0mgv7m0516gk80bmn8p1ebt" MODIFIED="1426313339447" TEXT="底层技术"><node CREATED="1426313339447" ID="214bmst2885is8fat59p08bsmm" MODIFIED="1426313339447" TEXT="ActionScript"/><node CREATED="1426313339447" ID="6bne746ul4m2orv5dk7kph0hi4" MODIFIED="1426313339447" TEXT="2D向量和位图图像渲染引擎"/></node><node CREATED="1426313339447" ID="1o9mmk5fpf4e4qgofqvabvbg0e" MODIFIED="1426313339447" TEXT="ActionScript的属性"><node CREATED="1426313339447" ID="1rcjut2e1rdosckgbqd7tl4fdt" MODIFIED="1426313339447" TEXT="Flash特殊功能"><node CREATED="1426313339448" ID="75bj44or3l54ma3aiekuq0dhji" MODIFIED="1426313339448" TEXT="收集字体等系统识别特征"/><node CREATED="1426313339448" ID="0gcjbcntuoaneda8uos11kolt4" MODIFIED="1426313339448" TEXT="可全屏，用于UI欺诈"/><node CREATED="1426313339448" ID="2bkaga35bbd026uu3n4ka5019r" MODIFIED="1426313339448" TEXT="能得到麦克风、摄像头的输入数据"/><node CREATED="1426313339448" ID="7h64v6tgoedcfhksevvkjg5g1m" MODIFIED="1426313339448" TEXT="忽略浏览器的安全和隐私设定，使用自身的安全配置进行数据持久化"/><node CREATED="1426313339448" ID="7bk8f09ne19a2hvk25io4a4vdb" MODIFIED="1426313339448" TEXT="默认情况下，可直接使用浏览器的HTTP堆栈及其管理的全局身份凭证信息"/><node CREATED="1426313339448" ID="6fl9gqfulr7f2lasi6g3tbf1hq" MODIFIED="1426313339448" TEXT="和其他运行的Flash交互"/><node CREATED="1426313339448" ID="07t72tmgf67e89lgn1hm7pvvp0" MODIFIED="1426313339448" TEXT="访问引用页的DOM元素"/></node><node CREATED="1426313339448" ID="2i459ad4v75b84sl324oeo6cr5" MODIFIED="1426313339448" TEXT="脚本注入"><node CREATED="1426313339448" ID="78i91d7h8dbohftc56p598qqbk" MODIFIED="1426313339448" TEXT="getURL(...)和navigateToURL(...)"><node CREATED="1426313339448" ID="5qjt7mtrnba7fb3ee2o65ihjjr" MODIFIED="1426313339448" TEXT="控制浏览器访问/打开新窗口"/></node><node CREATED="1426313339448" ID="4o6kjofnbcqabv8jo3v342kl2m" MODIFIED="1426313339448" TEXT="loadMovie(...)"><node CREATED="1426313339448" ID="24o2eill327s1cnlh44vgalvnd" MODIFIED="1426313339448" TEXT="识别asfunction:协议"/></node><node CREATED="1426313339448" ID="38spcf7doofpj4dei4qtp3up7f" MODIFIED="1426313339448" TEXT="控制URL触发某些函数，影响ActionScript运行环境"><node CREATED="1426313339448" ID="7chig71sagtfdjn9uf098f1hn6" MODIFIED="1426313339448" TEXT="如LoadVars.load(...)"/></node></node><node CREATED="1426313339448" ID="4d84oqj2trvjb5ut3jc50d37fl" MODIFIED="1426313339448" TEXT="Flash自带的内部简化版HTML解析器"><node CREATED="1426313339448" ID="7kq8rsuhfp3palt2biep2o8ur9" MODIFIED="1426313339448" TEXT="把HTML赋值给TextFiled.htmlText或TextArea.htmlText"/><node CREATED="1426313339448" ID="75j8s50ollc8bm9hmjnio060k1" MODIFIED="1426313339448" TEXT="问题"><node CREATED="1426313339448" ID="4vpbcfvd1v1j8b81j0s7bdvhug" MODIFIED="1426313339448" TEXT="容易忘记转义"/></node></node><node CREATED="1426313339448" ID="5v8oeuu44p0pqjdvje5c0j3j3j" MODIFIED="1426313339448" TEXT="插件自身设计/实现问题"><node CREATED="1426313339448" ID="5jk3a9tlh40a0ge66b84q0ubev" MODIFIED="1426313339448" TEXT="如ExternalInterface.call(...)会造成代码执行"/></node></node></node><node CREATED="1426313339448" ID="34klgnvq8ja9k8495e67t2t9tm" MODIFIED="1426313339448" TEXT="Microsoft Silverlight"><node CREATED="1426313339448" ID="4mh6orujquffuu5daruk90akh0" MODIFIED="1426313339448" TEXT="优点"><node CREATED="1426313339448" ID="29t7ks7gtck76vl0k3i49kjir7" MODIFIED="1426313339448" TEXT="没有asfunxtion:协议和内置HTML浏览器"/></node><node CREATED="1426313339448" ID="11ptlr848rfo2va5jjiqct6ita" MODIFIED="1426313339448" TEXT="问题"><node CREATED="1426313339448" ID="64lq1baadndp13uv5uhgm7r6de" MODIFIED="1426313339448" TEXT="没有什么突出优势"/></node></node><node CREATED="1426313339448" ID="4nd24qktqfuigfflnp4ofgrn28" MODIFIED="1426313339448" TEXT="Sun Java"><node CREATED="1426313339448" ID="5bim3hrhproh5gqro623sgldnl" MODIFIED="1426313339448" TEXT="问题"><node CREATED="1426313339448" ID="049udbfovuatv40ci0gbgmqjik" MODIFIED="1426313339448" TEXT="&lt;applet&gt;被弃用"/><node CREATED="1426313339448" ID="4rgfj1s3cpan78q4o9shvd17o3" MODIFIED="1426313339448" TEXT="同源策略问题"/><node CREATED="1426313339448" ID="1fu6nk7f8r17aglh9cotb8fpv6" MODIFIED="1426313339448" TEXT="经过加密签名的某些Java小程序可使用危险的OS功能"/></node></node><node CREATED="1426313339448" ID="1cg6qri4anfqhquq1sbq8skejr" MODIFIED="1426313339448" TEXT="XML Browser Applications"><node CREATED="1426313339448" ID="7h8j6c1hl4i10cg92h1g2d8a22" MODIFIED="1426313339448" TEXT="起源"><node CREATED="1426313339448" ID="4nivuto891e7iaug7vd40m7pte" MODIFIED="1426313339448" TEXT="Java没落，Silverlight发布前"/></node><node CREATED="1426313339448" ID="0cia1pfhfuebf4kbteuic1golp" MODIFIED="1426313339448" TEXT="问题"><node CREATED="1426313339448" ID="68osv3v8b2ev3rq1rcgsfvovet" MODIFIED="1426313339448" TEXT="依赖.net运行环境"/><node CREATED="1426313339448" ID="5toihuqljtun21sv4cg3a6csv8" MODIFIED="1426313339448" TEXT="加载慢"/><node CREATED="1426313339448" ID="5rbi4461ceom0skn5clh812nid" MODIFIED="1426313339448" TEXT="文档欠缺"/></node></node></node><node CREATED="1426313339448" ID="7pdtql9ljlf3sjv90fpjg2vet0" MODIFIED="1426313339448" POSITION="right" TEXT="ActiveX Controls"><node CREATED="1426313339448" ID="51p1n3npk7ptsmprel7e0vek4v" MODIFIED="1426313339448" TEXT="OLE技术"><node CREATED="1426313339448" ID="0ee6n4a06t0l6ihkb7j0sd9c2p" MODIFIED="1426313339448" TEXT="使程序能用与具体编程语言无关的方式重用其他应用里的组件"/></node><node CREATED="1426313339448" ID="36jbnlca3gj9t579lak4glffoo" MODIFIED="1426313339448" TEXT="安全问题"><node CREATED="1426313339448" ID="5hrobvoueo8shqeshuub9e4iqm" MODIFIED="1426313339448" TEXT="许多公开的ActiveX插件会出现与不信任环境互动的问题"/></node><node CREATED="1426313339448" ID="64n6nj7uldas7gh00lkfgtgqg4" MODIFIED="1426313339448" TEXT="解决"><node CREATED="1426313339448" ID="28s3fvseqaaeel85asefc3odu0" MODIFIED="1426313339448" TEXT="IE9起默认禁用所有的ActiveX访问权限"/></node></node><node CREATED="1426313339448" ID="37vpae579r6ol4id39mbg4ftc6" MODIFIED="1426313339448" POSITION="left" TEXT="其他插件的情况"><node CREATED="1426313339448" ID="7629rpf3m5ao238u1d4mt4v0vo" MODIFIED="1426313339448" TEXT="问题"><node CREATED="1426313339448" ID="1m0he33ih8fhomgamhkg2rp1kt" MODIFIED="1426313339448" TEXT="很多用户不知道被安装了插件或ActiveX控件"/></node></node><node CREATED="1426313339448" ID="6fkh0bfh6sstrrhvplotm30805" MODIFIED="1426313339448" POSITION="left" TEXT="安全工程速查表"><node CREATED="1426313339448" ID="5rmugvkchgs1752n116ih75fj2" MODIFIED="1426313339448" TEXT="提供需要让插件处理的文件时"><node CREATED="1426313339449" ID="4b150a3haiuo92jfmgotbvh1hc" MODIFIED="1426313339449" TEXT="对来自信任源的数据"><node CREATED="1426313339449" ID="4gfm93r81tcsrpd8cktf95uspm" MODIFIED="1426313339449" TEXT="Flash、Java、Silverlight、Adobe Reader JavaScript本身有漏洞"/><node CREATED="1426313339449" ID="11r0bdrv2e6qkl9qmto52mithi" MODIFIED="1426313339449" TEXT="避免处理用户提供的URL"/><node CREATED="1426313339449" ID="33tgif5fq4rrntts5dc1mi2urv" MODIFIED="1426313339449" TEXT="不要在小程序中产生或修改用户控制的HTML代码"/></node><node CREATED="1426313339449" ID="5bgonj1iigmu7ff5n70qcauut9" MODIFIED="1426313339449" TEXT="用户控制的简单的多媒体"><node CREATED="1426313339449" ID="3c82d1g27b1p3kedqfnt16qqfg" MODIFIED="1426313339449" TEXT="验证和限制文件的格式"/><node CREATED="1426313339449" ID="08nsv6t8q9r8pbimfutog2bmi6" MODIFIED="1426313339449" TEXT="使用正确的Content-Type"/></node><node CREATED="1426313339449" ID="64cu147rm0nlfenq51br3dtamr" MODIFIED="1426313339449" TEXT="用户控制的文档格式"><node CREATED="1426313339449" ID="5u8364dog97sjvhv8llrrgup6t" MODIFIED="1426313339449" TEXT="放到专用域名"/><node CREATED="1426313339449" ID="52haqubjs5tk2vbtv8643cinfg" MODIFIED="1426313339449" TEXT="使用单词有效的令牌字符方式，而不是Cookies"/></node><node CREATED="1426313339449" ID="7601e8suvjnjblge2bffbvcg04" MODIFIED="1426313339449" TEXT="用户控制的活动应用"><node CREATED="1426313339449" ID="68ao87f1d9adfp2et1kvfdbl1l" MODIFIED="1426313339449" TEXT="在敏感的域名上放这类文件不安全"/></node></node><node CREATED="1426313339449" ID="42ctpjb4qliobqcvuc3o24bl47" MODIFIED="1426313339449" TEXT="需要嵌入由插件处理的文件"><node CREATED="1426313339449" ID="1r8a95lrlu2vgmpvmrv8sjrjqb" MODIFIED="1426313339449" TEXT="基本"><node CREATED="1426313339449" ID="35228fjreg9idfk52q7jufk4ev" MODIFIED="1426313339449" TEXT="HTTPS站点的插件也要HTTPS"/><node CREATED="1426313339449" ID="3i7u7n3jqlau0fp1g11jfl6hb6" MODIFIED="1426313339449" TEXT="在&lt;object&gt;和&lt;embed&gt;里设定type参数"><node CREATED="1426313339449" ID="7n13pmoqq2puisg29944c0rime" MODIFIED="1426313339449" TEXT="有时候type字段无法识别"/></node></node><node CREATED="1426313339449" ID="57lua0ofj6kc4lbticr3pskt76" MODIFIED="1426313339449" TEXT="简单多媒体"><node CREATED="1426313339449" ID="5kroc55gbfg9iobjiopd37mmrq" MODIFIED="1426313339449" TEXT="一般安全"/></node><node CREATED="1426313339449" ID="5b5h6dj9coi91cm5np0a958usc" MODIFIED="1426313339449" TEXT="办公文档格式"><node CREATED="1426313339449" ID="7l79cg0i7vje52psrio0gkvtgd" MODIFIED="1426313339449" TEXT="通常安全，可能带来更多潜在的插件和浏览器内容处理问题"/></node><node CREATED="1426313339449" ID="4ueu8juu6e8pa43q9qa44o2ip9" MODIFIED="1426313339449" TEXT="Flash和Silverlight"><node CREATED="1426313339449" ID="2146elfvsc6qmendbgr5s343eu" MODIFIED="1426313339449" TEXT="标记语言做好安全相关的标签设置"/></node><node CREATED="1426313339449" ID="2ous7b2ijfgouueemf7821oiia" MODIFIED="1426313339449" TEXT="Java小程序"><node CREATED="1426313339450" ID="3kieequ6n189ppiisc1g2g2jg1" MODIFIED="1426313339451" TEXT="无法可靠地限制Java小程序访问所在页面的DOM"/><node CREATED="1426313339452" ID="7go8tschr14nvotpp0o5n3pc70" MODIFIED="1426313339452" TEXT="不要加载非信任站点的Java小程序"/></node></node><node CREATED="1426313339452" ID="0ho7sedsrlcs1o2dcsabgk3jav" MODIFIED="1426313339452" TEXT="如果希望开发一个新的浏览器插件或ActiveX组件"><node CREATED="1426313339452" ID="3rd7pjqqr6lfg8riil4t1kt5nv" MODIFIED="1426313339452" TEXT="三思"/><node CREATED="1426313339452" ID="7epphj7c6sc9i9ktvtc7enddge" MODIFIED="1426313339452" TEXT="按照标准的方式采用HTML5开发"/></node></node></node></map>