<?xml version="1.0" encoding="UTF-8" standalone="no"?><map version="0.8.1"><node CREATED="1426313362118" ID="1v9chs6koa2c76o12end1q22fj" MODIFIED="1426313362118" TEXT="6.浏览器端脚本"><node CREATED="1426313362118" ID="2cu8ir9vgnkv2ol2b6c1lp2527" MODIFIED="1426313362118" POSITION="right" TEXT="JavaScript的基本特点"><node CREATED="1426313362118" ID="7vomk1vhmibg63viabhj55jsfv" MODIFIED="1426313362118" TEXT="特点"><node CREATED="1426313362118" ID="056vljdoa1cupo7r2liqechhi7" MODIFIED="1426313362118" TEXT="对象模型没有类的概念"/><node CREATED="1426313362118" ID="0fptlaof9jou37hulgeav86t01" MODIFIED="1426313362118" TEXT="有自动垃圾回收"/><node CREATED="1426313362118" ID="1e2nv90u576g1soui4ulq7i5jh" MODIFIED="1426313362118" TEXT="弱数据类型"/><node CREATED="1426313362118" ID="62ujrhirk81hhiucl03c6b3o2g" MODIFIED="1426313362118" TEXT="动态类型"/><node CREATED="1426313362118" ID="1ede3ednimk1oi6q8qssfum587" MODIFIED="1426313362118" TEXT="没有内置的I/O机制"/></node><node CREATED="1426313362118" ID="2bmqv2aclvaf5n434vct0pdn3n" MODIFIED="1426313362118" TEXT="脚本处理模型"><node CREATED="1426313362118" ID="1suuos0vsiismcjetkuch6v0ek" MODIFIED="1426313362118" TEXT="沙箱"><node CREATED="1426313362118" ID="4gr1bcqp26ako8aoo966gjn9fk" MODIFIED="1426313362118" TEXT="同一HTML文档的所有脚本运行在同一个执行环境中"/><node CREATED="1426313362118" ID="309n2m1l2572qin40dc0r9fjt5" MODIFIED="1426313362118" TEXT="一个执行环境加载的脚本的所有全局变量和函数拥有独立的命名空间"/></node><node CREATED="1426313362118" ID="64i0mhh4r37be2c74uvujt6fup" MODIFIED="1426313362118" TEXT="处理过程"><node CREATED="1426313362118" ID="5tdraenttmh7tb7tcp0sn432qs" MODIFIED="1426313362118" TEXT="源码处理"><node CREATED="1426313362118" ID="217p0d45cktiv10ns4f9tcgo29" MODIFIED="1426313362118" TEXT="工作"><node CREATED="1426313362118" ID="2qsd7q090a98nv6psbmj9s1lm4" MODIFIED="1426313362118" TEXT="检查脚本代码块里的语法，转换为中间层的二进制映像"/></node><node CREATED="1426313362118" ID="0ifh91qs15amc46oo0af20c810" MODIFIED="1426313362118" TEXT="注意"><node CREATED="1426313362118" ID="00r5tj13tsdrmpp987tfrk1es8" MODIFIED="1426313362118" TEXT="在彻底完成本步前，这些二进制代码对全局无影响"/><node CREATED="1426313362118" ID="4aa72v7vh0l43e3vlnsboj88q0" MODIFIED="1426313362118" TEXT="如果源码处理阶段出错，代码块将被弃用，解析器处理下一个代码块"/></node></node><node CREATED="1426313362118" ID="555rhdardhcs0hr0694jnjd9vr" MODIFIED="1426313362118" TEXT="函数解析"><node CREATED="1426313362118" ID="6ltl5ep01k1id7iiekvs71gojb" MODIFIED="1426313362118" TEXT="工作"><node CREATED="1426313362118" ID="7l6h1tb6baiemfmq9rlphqv1t3" MODIFIED="1426313362118" TEXT="对所有具名的全局函数识别并注册，本阶段完成后，函数才能被调用"/></node><node CREATED="1426313362118" ID="6s2alikkmeu6gr3o2k35g2gh0r" MODIFIED="1426313362118" TEXT="注意"><node CREATED="1426313362118" ID="5tmtc9nosacsv9pnessggfsdd1" MODIFIED="1426313362118" TEXT="变量是按执行时顺序注册的"/></node></node><node CREATED="1426313362119" ID="6uiju34lf8a93odcnpda94usl8" MODIFIED="1426313362119" TEXT="代码执行"><node CREATED="1426313362119" ID="3upuvj54dk6p3e5rj4b3cvr7dq" MODIFIED="1426313362119" TEXT="工作"><node CREATED="1426313362119" ID="0u9ni3qjrub5g4qpj1ptrr6d0c" MODIFIED="1426313362119" TEXT="顺序执行函数区块外的代码"/></node><node CREATED="1426313362119" ID="0sbgi4fvkv4l71mtq7mvonjd10" MODIFIED="1426313362119" TEXT="注意"><node CREATED="1426313362119" ID="7o6dpasti1bj64mbnt3e621l1g" MODIFIED="1426313362119" TEXT="执行过程中，脚本执行失败后，已执行过的代码产生的结果仍有效"/></node></node></node></node><node CREATED="1426313362119" ID="1kbsul7200uabam4qoorr6dhn3" MODIFIED="1426313362119" TEXT="执行顺序的控制"><node CREATED="1426313362119" ID="48u55pogvf4bs24nj2r8r2sag8" MODIFIED="1426313362119" TEXT="同一执行环境按时间顺序运行"><node CREATED="1426313362119" ID="42np84duhru6ht059mrrus3p08" MODIFIED="1426313362119" TEXT="外部事件无法中断代码执行"/><node CREATED="1426313362119" ID="2ccqqpiqhkdmkhtku9be48c4ee" MODIFIED="1426313362119" TEXT="不支持线程对任何共享内存的修改"/><node CREATED="1426313362119" ID="5vgleck7lkp34j7s393i5sdfrf" MODIFIED="1426313362119" TEXT="执行引擎忙时，事件处理、定时器、页面浏览请求等动作都会后延；完成后，才会重启排队"/><node CREATED="1426313362119" ID="5omb5vuone2fuf8fspdfvhe9li" MODIFIED="1426313362119" TEXT="任何死循环都能被中断退出"/></node></node><node CREATED="1426313362119" ID="3ir1cgflnm5vub2m4lhvq8e3dd" MODIFIED="1426313362119" TEXT="代码和对象检视功能"><node CREATED="1426313362119" ID="39nno48noovm5u29qdnj5nergo" MODIFIED="1426313362119" TEXT="检视"><node CREATED="1426313362119" ID="3ru0pe8je1ds012vvseqe7bt9b" MODIFIED="1426313362119" TEXT="代码"><node CREATED="1426313362119" ID="7u601lnoneg4a6f0ldodas2896" MODIFIED="1426313362119" TEXT="对非内置函数，可通过toString()和toSource()方法查看反编译后的源码"/></node><node CREATED="1426313362119" ID="062a18b9n28dpbg6rimhjvmvag" MODIFIED="1426313362119" TEXT="程序运行流"><node CREATED="1426313362119" ID="2997tlpm6ggr65qh530tdpc22g" MODIFIED="1426313362119" TEXT="勉强访问到宿主页面的内存映像"><node CREATED="1426313362119" ID="4a7bnca8mggn7nogn15bfincat" MODIFIED="1426313362119" TEXT="能检索本页面的&lt;script&gt;代码块"/><node CREATED="1426313362119" ID="04iimuu224l6s7bu4sju70gvj6" MODIFIED="1426313362119" TEXT="不能检索远程加载的js或动态产生的js"/></node><node CREATED="1426313362119" ID="3bb9di8mlafdsprjkc1e85ht6t" MODIFIED="1426313362119" TEXT="某些情况可通过非标准的caller调用堆栈信息"><node CREATED="1426313362119" ID="383pdgpahsjut30fjpkbg0k0od" MODIFIED="1426313362119" TEXT="无法知道运行到/将执行哪行"/></node></node></node><node CREATED="1426313362119" ID="0ptri8j5s9pm8lbl7nr8rub41r" MODIFIED="1426313362119" TEXT="eval"><node CREATED="1426313362119" ID="4nglc231gmgpqtn15ch1v3fq2f" MODIFIED="1426313362119" TEXT="eval中的文本语法错误或执行异常都会传递给调用eval的函数"/><node CREATED="1426313362119" ID="5f3jsur2dgoujrqc1tqjuclrjf" MODIFIED="1426313362119" TEXT="最后一行代码的执行结果是eval的返回值"/></node><node CREATED="1426313362119" ID="5h5825tk7ujtdnks9km1o6jvov" MODIFIED="1426313362119" TEXT="延迟执行"><node CREATED="1426313362119" ID="5kduhlvpko9ghi1jgi804bng2p" MODIFIED="1426313362119" TEXT="定时器"><node CREATED="1426313362119" ID="62gigrvh3qedevo6v8fsgj2ll8" MODIFIED="1426313362119" TEXT="setTimer"/><node CREATED="1426313362119" ID="4oj538nf04s7ub7o180kqucqod" MODIFIED="1426313362119" TEXT="setInterval"/></node><node CREATED="1426313362119" ID="2caa76ssb0kalrh2ci5qeofgta" MODIFIED="1426313362119" TEXT="事件处理器"><node CREATED="1426313362119" ID="3ndlfdvu1fa8s3mo0p58f7038v" MODIFIED="1426313362119" TEXT="onclick"/><node CREATED="1426313362119" ID="5duimttd8j6h8enap8ceugeplf" MODIFIED="1426313362119" TEXT="onload"/><node CREATED="1426313362119" ID="3kq3oape02q4rh53rj762tvrgj" MODIFIED="1426313362119" TEXT="……"/></node><node CREATED="1426313362119" ID="4bbrr6a6s0c7ui0q3scmajb6k0" MODIFIED="1426313362119" TEXT="HTML解析器自身接口"><node CREATED="1426313362119" ID="0r8pfjm8ldhvog7otim3fcrueu" MODIFIED="1426313362119" TEXT="innerHTML"/><node CREATED="1426313362119" ID="1crcfrb7ep8m5rmiqhbolh6765" MODIFIED="1426313362119" TEXT="document.write()"/><node CREATED="1426313362119" ID="2qok06349m5duirth385gs8ari" MODIFIED="1426313362119" TEXT="……"/></node></node><node CREATED="1426313362119" ID="2jf13ah0pbb5rg6qqi8g4l0h49" MODIFIED="1426313362119" TEXT="自省"><node CREATED="1426313362119" ID="0ahjqkrhq2g9apu94j9qshure3" MODIFIED="1426313362119" TEXT="迭代器"/><node CREATED="1426313362119" ID="6udp9sm6curlsso8hq98ajdc59" MODIFIED="1426313362119" TEXT="typeof、instanceof、===、length等获知元素的额外信息"/></node><node CREATED="1426313362119" ID="0447k2d6tm23nidh7obq4rhtib" MODIFIED="1426313362119" TEXT="注意"><node CREATED="1426313362119" ID="3ttlcthh7hrhul9d34q7fo807r" MODIFIED="1426313362119" TEXT="同一上下文，甚至跨页面的上下文环境都难以保持秘密"/></node></node><node CREATED="1426313362119" ID="6akrsts0ufonri15b3ko1r8hkv" MODIFIED="1426313362119" TEXT="修改运行环境"><node CREATED="1426313362120" ID="7prg0t8oqf5e0teobrl1c6llhn" MODIFIED="1426313362120" TEXT="重写内置函数"><node CREATED="1426313362120" ID="4ibgmvomdotii90a9pfve6i3od" MODIFIED="1426313362120" TEXT="不同浏览器对重写内置函数的处理不同"/><node CREATED="1426313362120" ID="3qnvm715ql8pgertavlfvapqrk" MODIFIED="1426313362120" TEXT="几乎所有对象都有一个能被随意修改的原型"/></node><node CREATED="1426313362120" ID="55l45kke4sagmss4t795l523rk" MODIFIED="1426313362120" TEXT="Setter和Getter"/><node CREATED="1426313362120" ID="10i3fi03vpv597q859gdhcchel" MODIFIED="1426313362120" TEXT="JavaScript使用的潜在风险"><node CREATED="1426313362120" ID="72d2lcvr5gm4oonee3ohl0api2" MODIFIED="1426313362120" TEXT="一旦受到非信任内容的干扰，就无法检查运行环境的正确性"/></node></node><node CREATED="1426313362120" ID="7lma1ldvk5m2qdlnbso2jaqq7i" MODIFIED="1426313362120" TEXT="JavaScript对象表示法（JSON）和其他数据序列化"><node CREATED="1426313362120" ID="03aje75k20i42t8len8b77jats" MODIFIED="1426313362120" TEXT="重写{操作符的含义实现的"><node CREATED="1426313362121" ID="2vmiiulvos330tostevtb1s6qo" MODIFIED="1426313362121" TEXT="不能以&lt;script src=...&gt;跨站引用"><node CREATED="1426313362121" ID="4d15hpkq59qt5tjo59khvkifom" MODIFIED="1426313362121" TEXT="利用解析错误"/><node CREATED="1426313362121" ID="3k3qtlgn3h7s6te9nv49edu917" MODIFIED="1426313362121" TEXT="绕过"><node CREATED="1426313362121" ID="5f302svv6318pkjt2v6fne58of" MODIFIED="1426313362121" TEXT="用小/中括号把响应的数据括起来"/><node CREATED="1426313362121" ID="3d3s93u8m9nsapfg6o8d4ak9l8" MODIFIED="1426313362121" TEXT="移除代码标号两边的引号"/></node></node><node CREATED="1426313362121" ID="4apfd03g8b3j5n1n7htkmqalsv" MODIFIED="1426313362121" TEXT="Json.parse(...)序列化"><node CREATED="1426313362121" ID="5qj34nse07q9k5bb5aqgsr4o5n" MODIFIED="1426313362121" TEXT="IE不支持"><node CREATED="1426313362121" ID="5p0ctghe8ldn6r3ueokfc424rm" MODIFIED="1426313362121" TEXT="使用eval支持IE有安全风险"/></node></node></node><node CREATED="1426313362121" ID="21pv92famtl9d8bp41av47ccd4" MODIFIED="1426313362121" TEXT="JSON规范"><node CREATED="1426313362121" ID="4lrq71fvunueo4g24pi6p4aqii" MODIFIED="1426313362121" TEXT="允许&quot;Eaeflnr-u&quot;这些字符和数字组成的程序变量"><node CREATED="1426313362121" ID="1okv2b05oq0eo1fuqfncu7ecqt" MODIFIED="1426313362121" TEXT="危险"/></node></node><node CREATED="1426313362121" ID="3qb4ktlhvrsou0usmt979j4v63" MODIFIED="1426313362121" TEXT="JSONP"><node CREATED="1426313362121" ID="0s3tr0ge8op5kqmi3qn02o29tm" MODIFIED="1426313362121" TEXT="无法兼容JSON.parser(...)用法，必须用不安全的eval(...)转入内存"/><node CREATED="1426313362121" ID="5pe3o8vj6kujv65ofjbl9sarka" MODIFIED="1426313362121" TEXT="使用&lt;script src=...&gt;不会报错"/></node></node><node CREATED="1426313362121" ID="75h3lbas4un36g3ji80teo1mrr" MODIFIED="1426313362121" TEXT="E4X和其他语法扩展"><node CREATED="1426313362121" ID="5hqce2k719ggsrn84v7pj1e4i1" MODIFIED="1426313362121" TEXT="E4X"><node CREATED="1426313362121" ID="5s6jsp56vadpteljo4skfbhoft" MODIFIED="1426313362121" TEXT="把XML语法整合到JavaScript里"/><node CREATED="1426313362122" ID="50cvelu2al661pb3rtei3jd24i" MODIFIED="1426313362122" TEXT="安全风险高"/></node></node></node><node CREATED="1426313362122" ID="0t8nkdaan3dqor3e6lhnnkts60" MODIFIED="1426313362122" POSITION="right" TEXT="标准对象层级"><node CREATED="1426313362122" ID="6v6unid0pecneac1vjhtvp231r" MODIFIED="1426313362122" TEXT="隐含的根对象"><node CREATED="1426313362122" ID="0fbj89823bmvaok25r6nd4djnd" MODIFIED="1426313362122" TEXT="所有全局变量和函数的默认命名空间"/><node CREATED="1426313362127" ID="1f2hke4bvprl7oddkg5c5o03dh" MODIFIED="1426313362127" TEXT="层级模式的函数"><node CREATED="1426313362127" ID="1721kam8jfm1bbfggl33909m7s" MODIFIED="1426313362128" TEXT="对浏览器窗口的操作"/><node CREATED="1426313362128" ID="2jj150235uq9a6js3u2khegklv" MODIFIED="1426313362128" TEXT="定时器"/><node CREATED="1426313362128" ID="4773l73j4qrrgbgo9nrro82jfk" MODIFIED="1426313362128" TEXT="UI提示"/><node CREATED="1426313362128" ID="2kivtc9p9ttpinj2ipol6r4adt" MODIFIED="1426313362128" TEXT="与浏览器开发商有关但有风险的函数"/></node><node CREATED="1426313362128" ID="7sa67l1tod9vcke1uukqln4be6" MODIFIED="1426313362128" TEXT="其他相关上下文环境的根对象的JS引用"><node CREATED="1426313362128" ID="2rte0i2s1in804enq6mhmce4mp" MODIFIED="1426313362128" TEXT="父框架"><node CREATED="1426313362128" ID="65bjhc1kk3gh6pf0no42qkbgu1" MODIFIED="1426313362128" TEXT="parent"/></node><node CREATED="1426313362128" ID="3ab5af6b0r29qmtm5fbrof3b2f" MODIFIED="1426313362128" TEXT="当前浏览器的顶层文档"><node CREATED="1426313362128" ID="2a8nnuutf0iba31gravldrgrf5" MODIFIED="1426313362128" TEXT="top"/></node><node CREATED="1426313362128" ID="24tl2hfts8iq952m8475bgfrt8" MODIFIED="1426313362128" TEXT="创建当前窗口的源窗口和子框架"><node CREATED="1426313362128" ID="2f55u1drhdh96vr650n9pijvj6" MODIFIED="1426313362128" TEXT="opener"/><node CREATED="1426313362128" ID="3jdg7e354ri497lsjc3bq8sio7" MODIFIED="1426313362128" TEXT="frames[]"/></node><node CREATED="1426313362128" ID="0fc79v36kl4jcb0du3ca7ufv95" MODIFIED="1426313362128" TEXT="对当前根对象的循环引用"><node CREATED="1426313362128" ID="6driuss8o3vcui4sqvi92k0lul" MODIFIED="1426313362128" TEXT="window"/><node CREATED="1426313362128" ID="71huorq7hh8ra3bl0jf4n2ejcl" MODIFIED="1426313362128" TEXT="self"/></node></node><node CREATED="1426313362128" ID="1rsq4milmshsp20airnuip29lp" MODIFIED="1426313362128" TEXT="子对象"><node CREATED="1426313362129" ID="180agc02la7ovlrs4qb4hq34u3" MODIFIED="1426313362129" TEXT="location"><node CREATED="1426313362129" ID="60pr9k6h3eqj7qhr3pna60o075" MODIFIED="1426313362129" TEXT="包括读取当前文档URL信息或转向新地址浏览的各种属性和方法"/><node CREATED="1426313362129" ID="2usrrr52hmb18i5viche2peubg" MODIFIED="1426313362129" TEXT="注意"><node CREATED="1426313362129" ID="48hmmki9mo31o5hbi3ucdol4ar" MODIFIED="1426313362129" TEXT="新地址跳转会销毁上下文环境"/><node CREATED="1426313362129" ID="6etk4lb1f8gm3etaaj8iedhtts" MODIFIED="1426313362129" TEXT="不要假定字符串已经正确转义"/></node></node><node CREATED="1426313362129" ID="3a26ecnoos31nmcbq1pcf26klj" MODIFIED="1426313362129" TEXT="history"><node CREATED="1426313362129" ID="6v4gofe7gjchskosuotkq0a5di" MODIFIED="1426313362129" TEXT="让每个窗口根据浏览记录前后切换移动"/></node><node CREATED="1426313362129" ID="0hvbbknovps7j490rimsqi7qg6" MODIFIED="1426313362129" TEXT="screen"><node CREATED="1426313362129" ID="4350uloiriv3183ulkktmtc18m" MODIFIED="1426313362129" TEXT="检查屏幕和浏览器窗口大小、显示器DPI、色深等信息"/></node><node CREATED="1426313362129" ID="1kp8jfimk7e3gp4hc1od98cob2" MODIFIED="1426313362129" TEXT="navigator"><node CREATED="1426313362129" ID="0ld1vffonq4i316v23vi4mb50q" MODIFIED="1426313362129" TEXT="查询浏览器版本、OS、已安装插件列表"/></node><node CREATED="1426313362129" ID="38aalk0o451d2gp66vntq867pv" MODIFIED="1426313362129" TEXT="document"><node CREATED="1426313362129" ID="43rno1csedjj2l22ho9f4d4f1j" MODIFIED="1426313362129" TEXT="访问当前页面DOM的入口"/><node CREATED="1426313362129" ID="0mctoctso1o9bhf549rqljnbtj" MODIFIED="1426313362129" TEXT="注意"><node CREATED="1426313362130" ID="5to7vtvbv7sssk2548i1aa3bec" MODIFIED="1426313362130" TEXT="部分函数域文档结构无关"/><node CREATED="1426313362130" ID="3np60momsf14eqpc6uickffhjb" MODIFIED="1426313362130" TEXT="NUL可能造成未预期的效果"/></node></node><node CREATED="1426313362130" ID="4cqpbk2ebh8bukp8asq0gb7js3" MODIFIED="1426313362130" TEXT="可靠识别很多独一无二的用户"/></node></node><node CREATED="1426313362130" ID="631sugialdhkv65anbocv2n5bp" MODIFIED="1426313362130" TEXT="文档对象模型"><node CREATED="1426313362130" ID="7bpfvm10lko19urv7ph5596t6m" MODIFIED="1426313362130" TEXT="查找和定位函数的方式"><node CREATED="1426313362130" ID="48445i02i0cab7sip5ei71bra8" MODIFIED="1426313362130" TEXT="函数"><node CREATED="1426313362130" ID="6fo134c3gpgbl2i43p664d3qf6" MODIFIED="1426313362130" TEXT="getElementById"/><node CREATED="1426313362130" ID="33h2a56kgcmbebekt5qssfrtoj" MODIFIED="1426313362130" TEXT="getElementByName"/></node><node CREATED="1426313362130" ID="6snfj5iqtn48jfrdet4aqlf86t" MODIFIED="1426313362130" TEXT="分组"><node CREATED="1426313362130" ID="132ff4viikao8t6dhpcgfg4cef" MODIFIED="1426313362130" TEXT="frames[]"/><node CREATED="1426313362130" ID="1c1s2b4ajjhammvrua93ee1mpl" MODIFIED="1426313362130" TEXT="images[]"/><node CREATED="1426313362130" ID="72fktj61q2kc3iq2uuh6nbb3lc" MODIFIED="1426313362130" TEXT="forms[]"/></node></node><node CREATED="1426313362130" ID="51i0hqt53qc4o7gaqakr34adi7" MODIFIED="1426313362130" TEXT="某些特定HTML元素的名称可直接在document命名空间使用"><node CREATED="1426313362130" ID="1abjonjie92qjqgqoe60t5hdla" MODIFIED="1426313362130" TEXT="&lt;img&gt;"/><node CREATED="1426313362130" ID="5bhi89obeap41cajir102q3964" MODIFIED="1426313362130" TEXT="&lt;form&gt;"/><node CREATED="1426313362130" ID="4f5mdcfgfqru3qshgqe55t6at1" MODIFIED="1426313362130" TEXT="&lt;embed&gt;"/><node CREATED="1426313362130" ID="4g4k7e30lrbeughckd10dp0k7l" MODIFIED="1426313362130" TEXT="&lt;object&gt;"/><node CREATED="1426313362130" ID="1n6vulf4gtckjm4ekg52ut7c4s" MODIFIED="1426313362130" TEXT="&lt;applet&gt;"/></node><node CREATED="1426313362130" ID="191gj7knef6gnf1qo7glunqks2" MODIFIED="1426313362130" TEXT="innerHTML和outerHTML"><node CREATED="1426313362130" ID="02ikif05m4hiv7m8k21fnhi6fa" MODIFIED="1426313362130" TEXT="作用"><node CREATED="1426313362130" ID="6nu9e2ac93mjcv29icce3jlsar" MODIFIED="1426313362130" TEXT="文档树的部分内容可按合规序列化后的HTML字符串格式读取"/><node CREATED="1426313362130" ID="54lf8nfd3gbnj6jfmmgs3eska5" MODIFIED="1426313362130" TEXT="可把这些属性设置为特定的HTML数据"><node CREATED="1426313362130" ID="2vamamcm33hbvhd4q1lmb920u9" MODIFIED="1426313362130" TEXT="注意"><node CREATED="1426313362130" ID="3r45kol4luoqbelkr8sg04uris" MODIFIED="1426313362130" TEXT="格式不对的话会被强制纠错"/><node CREATED="1426313362130" ID="274gfa1ifcn8v5jhmgkpso32oq" MODIFIED="1426313362130" TEXT="没有正确的转义会造成代码注入"/></node></node></node></node></node><node CREATED="1426313362130" ID="3okkkpolke2lekdj8mr3o6i20k" MODIFIED="1426313362130" TEXT="对其他文档的访问"><node CREATED="1426313362130" ID="0cukrmrq2qoj5tpeklg0dje28h" MODIFIED="1426313362130" TEXT="访问另一脚本运行环境文档根的层级对象句柄"><node CREATED="1426313362130" ID="58cuunoqk0job23gpm554rr8de" MODIFIED="1426313362130" TEXT="parent、top、opener、frames[]引用另一环境的顶级对象"/><node CREATED="1426313362130" ID="7350i2c6o87am7v6d5l1l3jd54" MODIFIED="1426313362130" TEXT="调用window.open()创建新的窗口时也会返回一个引用"/><node CREATED="1426313362130" ID="08pkh92jsnn2a5bccog99kj5dh" MODIFIED="1426313362130" TEXT="定位一个已命名的窗口，也会返回相应的引用"/></node></node></node><node CREATED="1426313362130" ID="4rt402p1hnovkm74ipqtl5jlao" MODIFIED="1426313362130" POSITION="right" TEXT="脚本字符编码"><node CREATED="1426313362130" ID="6of5cahgbdm5rn5092er5npnrg" MODIFIED="1426313362130" TEXT="反斜杠\"><node CREATED="1426313362130" ID="54uv90pj2idaeimrk38bkvausc" MODIFIED="1426313362130" TEXT="某些控制字符使用C风格的速记表达方法"><node CREATED="1426313362130" ID="6agnike3ur3th2ll6vv0716qu0" MODIFIED="1426313362131" TEXT="\b \t \v \f \r \n"/></node><node CREATED="1426313362131" ID="6m669dam94qj1r8qfiujljnkgf" MODIFIED="1426313362131" TEXT="3位数字（不足位数以零补充），8位原字节八进制"/><node CREATED="1426313362131" ID="04shj5kefe32d2uefjatst5eim" MODIFIED="1426313362131" TEXT="2位数字（不足位数以零补充），前缀x，8位原字节十六进制"/><node CREATED="1426313362131" ID="0ama9nt35hk5ki6ff0fh3hotn1" MODIFIED="1426313362131" TEXT="4位数字（不足位数以零补充），前缀u，16位原字节十六进制Unicode"/><node CREATED="1426313362131" ID="6lrd6bt1q23sdnms9gtubv11lb" MODIFIED="1426313362131" TEXT="其他按反斜杠后面字符的字面含义直接转义"><node CREATED="1426313362131" ID="4i6pkub9bltpq8bj1b28or52at" MODIFIED="1426313362131" TEXT="注意"><node CREATED="1426313362131" ID="7m75e57u4t63p5ulum9itllo2s" MODIFIED="1426313362131" TEXT="不应该用这种方法转义尖括号和其他HTML语法中的分隔符"/></node></node></node><node CREATED="1426313362131" ID="1sfbne2mtdg86v4f6no0rvjhq4" MODIFIED="1426313362131" TEXT="注意"><node CREATED="1426313362131" ID="7vmsgup6mkib6nfdl5irdh9501" MODIFIED="1426313362131" TEXT="IE不支持\v"/><node CREATED="1426313362131" ID="4v5u4435u6smgcrb68jumvfbdl" MODIFIED="1426313362131" TEXT="只有Unicode转义方式可以用在字符串之外的位置"/><node CREATED="1426313362131" ID="30pqbe3lhkuf6fr2qjjvp2fe3j" MODIFIED="1426313362131" TEXT="转义编码只能出现在标识符部分，不能出现在对语法有真正影响的符号里"/><node CREATED="1426313362131" ID="3lickja9qdbllgmrcsmrt0bipe" MODIFIED="1426313362131" TEXT="不接受字符串跨行的写法"><node CREATED="1426313362131" ID="4ekikh7h0o33ehtcgh25epspd1" MODIFIED="1426313362131" TEXT="行末反斜杠可以"/></node></node></node><node CREATED="1426313362131" ID="0g343o9j8vj6dtkeple38q8bs8" MODIFIED="1426313362131" POSITION="right" TEXT="代码包含模式和嵌入风险"><node CREATED="1426313362131" ID="2p60cud9s71mib3ahlp6mn47td" MODIFIED="1426313362131" TEXT="代码包含模式"><node CREATED="1426313362131" ID="29hh7k9rfvmr43kbornuehgvjg" MODIFIED="1426313362131" TEXT="直接嵌入&lt;script&gt;代码块"/><node CREATED="1426313362131" ID="468lao7bf7gua0dpek6mcs2780" MODIFIED="1426313362131" TEXT="通过&lt;script src=...&gt;远程加载"/><node CREATED="1426313362131" ID="66fk18brqkqtdavqljlsh7afsu" MODIFIED="1426313362131" TEXT="在各种HTML和CSS参数中通过javascript:URL调用"/><node CREATED="1426313362131" ID="1cvjolkoca0d4ergt4mm0e4klh" MODIFIED="1426313362131" TEXT="CSS expression()语法和某些浏览器的XBL绑定"/><node CREATED="1426313362131" ID="1pc7836bmihc76tnrrk06pnlj4" MODIFIED="1426313362131" TEXT="事件处理器，如onclick"/><node CREATED="1426313362131" ID="4mehnqcrtiqrf4493a3r01qc23" MODIFIED="1426313362131" TEXT="定时器（setTimeout，setInterval）"/><node CREATED="1426313362131" ID="1q8jo1it7emahfctkf2k6imfrd" MODIFIED="1426313362131" TEXT="eval"/></node><node CREATED="1426313362131" ID="5eao2fa13ngnoqvm49ajmblvm7" MODIFIED="1426313362131" TEXT="嵌入风险"><node CREATED="1426313362131" ID="7mbmvif0vid7rnat4hgg42cjv1" MODIFIED="1426313362131" TEXT="组合使用造成的解析链传递危险"/></node></node><node CREATED="1426313362131" ID="6fa1knq2f3mu41bpf6fc1slq7v" MODIFIED="1426313362131" POSITION="left" TEXT="活死人：Visual Basic"/><node CREATED="1426313362131" ID="0gbvgsdok4pm0k8gfv0ioiik5b" MODIFIED="1426313362131" POSITION="left" TEXT="安全工程速查表"><node CREATED="1426313362131" ID="0cgjd26ai847t264l9tkio3vp1" MODIFIED="1426313362131" TEXT="加载远程脚本时"><node CREATED="1426313362131" ID="4p9bivg12na2t3p241hmaa0squ" MODIFIED="1426313362131" TEXT="如果存疑，在本地保存副本再使用"/><node CREATED="1426313362131" ID="6n302qi5dvn4r4qd06q1ns0for" MODIFIED="1426313362131" TEXT="在HTTPS站点里，要引用的脚本也要HTTPS"/></node><node CREATED="1426313362131" ID="6jigpqa34fnc86i77i45i2o9hb" MODIFIED="1426313362131" TEXT="解析从服务器端收到的JSON数据时"><node CREATED="1426313362131" ID="3q476s7h505da3l24pivls2vra" MODIFIED="1426313362131" TEXT="尽量使用JSON.parse，而不是eval或RFC4627提供的基于eval的实现"/></node><node CREATED="1426313362131" ID="5aboh9f2q5pnv1dk8ib4qqqils" MODIFIED="1426313362131" TEXT="JavaScript代码块里包含用户提供数据的情况"><node CREATED="1426313362131" ID="6savlpdqlpfarqh9u49dif0o06" MODIFIED="1426313362131" TEXT="在&lt;script&gt;代码块里的字符串"><node CREATED="1426313362131" ID="79nr7b87pbtg6scpdevv4qrg7v" MODIFIED="1426313362131" TEXT="对所有控制字符、\、&lt;、&gt;、引号，都要转义"/><node CREATED="1426313362131" ID="472qreorni6r4dsfn5ma71tonb" MODIFIED="1426313362131" TEXT="对高位字符尽量转义"/><node CREATED="1426313362131" ID="29g437on7boi62ldogphf03m6k" MODIFIED="1426313362131" TEXT="不要拿用户提供的字符串直接组成动态HTML"/><node CREATED="1426313362131" ID="46fn7t7gd7o88ac1t7t1a9sm69" MODIFIED="1426313362131" TEXT="不要拿用户提供的字符串组成参数传进有脚本执行的函数里"/><node CREATED="1426313362131" ID="2p2408dqsv6fur7g4qioe4nfpr" MODIFIED="1426313362131" TEXT="尽量避免eval、setTimeout等写法"/></node><node CREATED="1426313362131" ID="3qpm710hol7qulc23qr34jf8ti" MODIFIED="1426313362131" TEXT="在独立脚本文件里的独立字符串"><node CREATED="1426313362131" ID="011b9160skq50v49fvrqvna9kq" MODIFIED="1426313362131" TEXT="参见&lt;script&gt;代码块"/><node CREATED="1426313362131" ID="62iah4r69t1pbp7upgutrv07uo" MODIFIED="1426313362131" TEXT="考虑跨站脚本包含的风险"/><node CREATED="1426313362131" ID="3bi81mm62a4k5bh44kuh29acav" MODIFIED="1426313362131" TEXT="可在JS文件开头加入&quot;)}]'\n&quot;字符，使JS解析器挂掉"/><node CREATED="1426313362131" ID="70cc33c1pejrkib8pcn1c5ikge" MODIFIED="1426313362131" TEXT="使用合理的JSON序列化方式，不要单纯只靠填充或其他的调整方式防范风险"/></node><node CREATED="1426313362131" ID="7vtn3lvnubbrohfgb3vjkrdlfp" MODIFIED="1426313362131" TEXT="在事件处理器或javascript:格式的伪URL里"><node CREATED="1426313362131" ID="10adsj1k41bgasf99u40rdsq1c" MODIFIED="1426313362131" TEXT="多重转义"><node CREATED="1426313362132" ID="0o1jcl675o8he5j9vtqr1rbf1l" MODIFIED="1426313362132" TEXT="首先JS转义"/><node CREATED="1426313362132" ID="025lqc45qdolf8mivoh4m49om0" MODIFIED="1426313362132" TEXT="然后根据情况进行HTML或URL参数编码转义"/></node><node CREATED="1426313362132" ID="371gv2ajnqos25t7epqolb22b0" MODIFIED="1426313362132" TEXT="尽量不要使用这种直接内嵌JS脚本的方式"/></node><node CREATED="1426313362132" ID="1n1620arios89mfu32mbp3uogn" MODIFIED="1426313362132" TEXT="非字符串型的属性"><node CREATED="1426313362132" ID="1poi0oth00qo3v0rcguhu7e6bm" MODIFIED="1426313362132" TEXT="由白名单方式设置关键字只能由字母和数字组成"/><node CREATED="1426313362132" ID="764llmq04ar2m1iiei6qhsdfk7" MODIFIED="1426313362132" TEXT="对数字型的数据进行严格验证"/></node></node><node CREATED="1426313362132" ID="4vt3n8kf0i1iuffhg6te991uci" MODIFIED="1426313362132" TEXT="与客户端浏览器对象交互时"><node CREATED="1426313362132" ID="680kvqsi14o8j4a9enb14td8on" MODIFIED="1426313362132" TEXT="在客户端产生的HTML内容"><node CREATED="1426313362132" ID="2b28o6i90qu49e34hhc0dpri70" MODIFIED="1426313362132" TEXT="不要使用innerHTML、document.write()"/><node CREATED="1426313362132" ID="1tt3h5it7j70rqqvhaff6taf49" MODIFIED="1426313362132" TEXT="使用createElement()和appendChild()，innerText和textContent"/></node><node CREATED="1426313362132" ID="4ou4duoo94dai2t832ao271joo" MODIFIED="1426313362132" TEXT="对用户控制数据的处理"><node CREATED="1426313362132" ID="2831j3uiufjoht39r1rnj9cgg7" MODIFIED="1426313362132" TEXT="预设从浏览器读取的任何数据都未经过正确的转义"/></node></node><node CREATED="1426313362132" ID="0uvvko2600fc7q2nrgv9t735ab" MODIFIED="1426313362132" TEXT="如果页面能加载其他用户控制的脚本"><node CREATED="1426313362132" ID="0os3qeckai2csr4svbeks0oirg" MODIFIED="1426313362132" TEXT="没法真正安全"/><node CREATED="1426313362132" ID="5n1fqplbkffls3lt12qfl6tc6e" MODIFIED="1426313362132" TEXT="实验性的JS重写框架（如Caja）可能是唯一可移植的选择"/></node></node></node></map>