<?xml version="1.0" encoding="UTF-8" standalone="no"?><map version="0.8.1"><node CREATED="1426313386762" ID="08mtr0p2dr1nvlf8nmhj4vvij1" MODIFIED="1426313386762" TEXT="4.HTML语言"><node CREATED="1426313386762" ID="6c5uo9i9omoht64ulkplt71ddn" MODIFIED="1426313386762" POSITION="right" TEXT="HTML文档背后的基本概念"><node CREATED="1426313386762" ID="3ch4jf2f15pjo3uammv658kibi" MODIFIED="1426313386762" TEXT="语法"><node CREATED="1426313386762" ID="28s8j979siu1r9ptu2qh9ordct" MODIFIED="1426313386762" TEXT="标签组成的层级结构（标签参数为”名称=值“），文本穿插其中"/><node CREATED="1426313386762" ID="3aqmodiqqqdp0i3ums6tr4l3n4" MODIFIED="1426313386762" TEXT="元字符"><node CREATED="1426313386762" ID="4a42mplh1k3h388dl42gj95fgm" MODIFIED="1426313386762" TEXT="左右尖括号，单双引号，&amp;"/></node><node CREATED="1426313386762" ID="2182tgrsm3rltbjbc0umbl1pi9" MODIFIED="1426313386762" TEXT="规则"><node CREATED="1426313386762" ID="7mab0fv1e34p5nf0tua9ju7jq1" MODIFIED="1426313386762" TEXT="HTML文档绝大部分区域不应该出现单个&amp;符号"/><node CREATED="1426313386762" ID="3j1e4kgadsgit4a6ifmpeu0r7g" MODIFIED="1426313386762" TEXT="HTML标签内部不应该出现尖括号"/><node CREATED="1426313386762" ID="5o9qiel0gabegp3rr77riisrk8" MODIFIED="1426313386762" TEXT="文本里的&quot;&lt;&quot;是有危害的"/><node CREATED="1426313386762" ID="6daue0ps32m09n1vd8hsi0r2an" MODIFIED="1426313386762" TEXT="标签中出现引号括起来的字符串可能导致意想不到的结果"/></node><node CREATED="1426313386762" ID="2lsmnm54prft7fef43tvv9v2uj" MODIFIED="1426313386762" TEXT="HTML实体编码"/><node CREATED="1426313386762" ID="4s80e7tsj2ftepi3mpo26fi9ns" MODIFIED="1426313386762" TEXT="漏洞"><node CREATED="1426313386762" ID="4tdoc6kr4ff6351jep2ke549mn" MODIFIED="1426313386762" TEXT="XSS"/></node></node><node CREATED="1426313386762" ID="733ss1e6hop46i2dr7qfpo6700" MODIFIED="1426313386762" TEXT="文档解析模式"><node CREATED="1426313386762" ID="0jc5e50v6g5r3o03rl5nbitces" MODIFIED="1426313386762" TEXT="&lt;!DOCTYPE&gt;告知浏览器如何解析这个文件"><node CREATED="1426313386763" ID="58l9jeqfccokfjnacujjujqt28" MODIFIED="1426313386763" TEXT="也可以用Content-Type响应头"/></node><node CREATED="1426313386763" ID="1fb71iue7hho0mvrkl781fq5km" MODIFIED="1426313386763" TEXT="传统HTML"><node CREATED="1426313386763" ID="2gtenccug8vm08g1i7hl0apm63" MODIFIED="1426313386763" TEXT="解析器会尽量修复绝大多数语法错误"><node CREATED="1426313386764" ID="6d8kl9rtdvhs3ieih9pm0v14j8" MODIFIED="1426313386764" TEXT="如不匹配的开头和结尾标签"/></node><node CREATED="1426313386764" ID="0cb8hn8u3qkfls83sjikt5lfi6" MODIFIED="1426313386764" TEXT="不区分大小写"/><node CREATED="1426313386764" ID="369ifat75kjrs20tguhgu7aj16" MODIFIED="1426313386764" TEXT="参数值不一定用引号括起来"/><node CREATED="1426313386764" ID="6tt6ue0q2p4pjh281q2j3nuac1" MODIFIED="1426313386764" TEXT="某些标签是隐式闭合的"/><node CREATED="1426313386764" ID="5slm5h3v7v4c24g9a93hvf2no0" MODIFIED="1426313386764" TEXT="&lt;style&gt;、&lt;script&gt;、&lt;textarea&gt;、&lt;xmp&gt;后会落入非HTML解析模式，直到匹配到不区分大小写的&lt;/style、&lt;/script等"/><node CREATED="1426313386764" ID="31ggm702fp6usgrkqrav6j9641" MODIFIED="1426313386764" TEXT="已被停用的标签&lt;plaintext&gt;完全不能退出"/></node><node CREATED="1426313386764" ID="205itlrispeiv3vv9t4c684nmc" MODIFIED="1426313386764" TEXT="XML"><node CREATED="1426313386764" ID="05stdfeb23pe3ob7q05j0gq09p" MODIFIED="1426313386764" TEXT="标签必须严格匹配（包括大小写）"/><node CREATED="1426313386764" ID="001p01m5c06rlh9et4phvv7edu" MODIFIED="1426313386764" TEXT="可整合其他兼容格式内容"/><node CREATED="1426313386764" ID="6ea615nlnibrrn5l3ppg125rhn" MODIFIED="1426313386764" TEXT="禁止出现单个的&quot;&lt;&quot;和&quot;&amp;&quot;"/><node CREATED="1426313386764" ID="4obvelr28fr0m9sschn7geis9g" MODIFIED="1426313386764" TEXT="以&quot;&lt;![CDATA[&quot;开头，&quot;]]&gt;&quot;结尾的字符串显示原始文本"/></node><node CREATED="1426313386764" ID="46hg7hmh6mnqg0bh0mhrpgdih8" MODIFIED="1426313386764" TEXT="&quot;&lt;!--&quot;开头，&quot;--&gt;&quot;结尾为注释"><node CREATED="1426313386764" ID="03v6pvoo5sofbp79g5ht4smeeh" MODIFIED="1426313386764" TEXT="Firefox4.0以前版本，只要出现&quot;--&quot;，结尾&quot;&gt;&quot;就是注释"/></node></node><node CREATED="1426313386764" ID="06e7i4sp7lj87ctor23a9r05b4" MODIFIED="1426313386764" TEXT="语义之争"><node CREATED="1426313386764" ID="18o49cbp9q5fqrvli4eh2f6h5k" MODIFIED="1426313386764" TEXT="Tim Berners-Lee倡导的语义网"><node CREATED="1426313386764" ID="2bi8asi6vtn9ib1kte3pi7ea42" MODIFIED="1426313386764" TEXT="影响力逐渐消退"/></node></node></node><node CREATED="1426313386764" ID="45gtq1ecmm47k17hnsb283iga6" MODIFIED="1426313386764" POSITION="right" TEXT="理解HTML解析器的行为"><node CREATED="1426313386764" ID="6eh5kb6nvf3d21been68c8ri0l" MODIFIED="1426313386764" TEXT="浏览器陷阱"><node CREATED="1426313386764" ID="6pbr826br97s6kk9vl0r32u9ki" MODIFIED="1426313386764" TEXT="示例"><node CREATED="1426313386764" ID="2oh2iatjjtuptbfitbdauv81nc" MODIFIED="1426313386764" TEXT="&lt;html&gt;&lt;img src=&quot;images/5eg4obbvfua1h5k71qo6qutqj6.png&quot;&gt;"/></node><node CREATED="1426313386770" ID="20kpeso7lgrf8jlae0v8avkmtl" MODIFIED="1426313386770" TEXT="浏览器做法"><node CREATED="1426313386770" ID="5aae89o2ot3k1hnh8akqq70am7" MODIFIED="1426313386770" TEXT="IE：允许把0x00插入到[1]中"/><node CREATED="1426313386771" ID="5j7l0gog0ls2lcuec5g5cbsv0c" MODIFIED="1426313386771" TEXT="所有浏览器：[2]和[4]的空格可由0x0B和0x0C替代"/><node CREATED="1426313386772" ID="05264alacrrh8u3bdbtt97v9fb" MODIFIED="1426313386772" TEXT="Opera：[2]和[4]的空格还可由0xA0替代"/><node CREATED="1426313386772" ID="6bg6bub7ta7qfsegg3b95kubu4" MODIFIED="1426313386772" TEXT="Firefox：[2]的空格可由正斜杠替代，但[4]的空格不可以"/><node CREATED="1426313386772" ID="7klv1ojq92q9e1rjo0iq9o9q6b" MODIFIED="1426313386773" TEXT="大部分解析器：忽略[3]处的0x00及各种空格符"><node CREATED="1426313386773" ID="2elupf11437vfj8bktj6u5f7hb" MODIFIED="1426313386773" TEXT="Webkit曾经还允许使用正斜杠"/></node><node CREATED="1426313386773" ID="0d9r4v1e4kugpjdcip24e9b3lc" MODIFIED="1426313386773" TEXT="单/双引号可以把包含空格和尖括号的字符串放入HTML参数中"><node CREATED="1426313386773" ID="2eakujulta5vcpeqk4ujqe6kj0" MODIFIED="1426313386773" TEXT="IE还可以是'`'"/></node><node CREATED="1426313386773" ID="1ejqdmlnlut6vk6rql1i9tdnel" MODIFIED="1426313386773" TEXT="[6]处的空格可以去掉，因为引号后隐式的跟着一个空格"/></node><node CREATED="1426313386773" ID="79cmp4uttuuc29eek8s1df6pjc" MODIFIED="1426313386773" TEXT="攻击"><node CREATED="1426313386773" ID="3gv3bou2i19mgac49k4vduda15" MODIFIED="1426313386773" TEXT="参数值中的引号"/><node CREATED="1426313386773" ID="1sqivdhlngi3p328kjnoofc500" MODIFIED="1426313386773" TEXT="IE：等号后面跟着引号时，会造成错误的解析"><node CREATED="1426313386773" ID="4j22e3bqjeb732035cjf9inrrc" MODIFIED="1426313386773" TEXT="其他浏览器只见检查参数值前面的引号"/></node></node></node><node CREATED="1426313386773" ID="3dt38usjiqid4qega1fitj51s4" MODIFIED="1426313386773" TEXT="多重标签之前的交互"><node CREATED="1426313386773" ID="7oud63sha3o9vco6n5e60o7l6l" MODIFIED="1426313386773" TEXT="不同浏览器的解析不同"><node CREATED="1426313386773" ID="2m4pfccpq7trlg81sa17gge74h" MODIFIED="1426313386773" TEXT="不正常的多个HTML标签堆叠时"/><node CREATED="1426313386773" ID="0i8ve63mvsjlksmqc9jj7kiugg" MODIFIED="1426313386773" TEXT="整个文档结束时标签未闭合的情况"/></node></node><node CREATED="1426313386773" ID="5pe72cj8h2sv833ne5nvrjb2ck" MODIFIED="1426313386773" TEXT="显式和隐式的条件判断"><node CREATED="1426313386773" ID="06g36t2e2cqjcjs62sd7lirjic" MODIFIED="1426313386773" TEXT="IE：&lt;% ... %&gt;中间为注释"/><node CREATED="1426313386773" ID="4n44tiolem2lp85oi5h6l1metj" MODIFIED="1426313386773" TEXT="IE6"><node CREATED="1426313386773" ID="3heca4fn55tecumqjg2er8obpj" MODIFIED="1426313386773" TEXT="&lt;html&gt;&lt;img src=&quot;images/3liboc6qdg2n2id1hap92n1kaa.png&quot;&gt;"/></node><node CREATED="1426313386774" ID="3eligfsu0v35vpp88d19iarn7r" MODIFIED="1426313386774" TEXT="其他解析分歧"><node CREATED="1426313386774" ID="1oed8ajkd27vlj8glc5mk4i9fj" MODIFIED="1426313386774" TEXT="!-和?-的解析（如&lt;!DOCTYPE&gt;，&lt;?xml&gt;）"/><node CREATED="1426313386774" ID="6oajq04o33thmumk228vah9p15" MODIFIED="1426313386774" TEXT="非XHTML模式能否出现XML风格的CDATA块"/><node CREATED="1426313386774" ID="5q11jgl123u706a1goudv6nkp1" MODIFIED="1426313386774" TEXT="多个特殊解析模式的标签堆叠的解析优先级"/></node></node><node CREATED="1426313386774" ID="0e9s1ucnk561famdg379oue26d" MODIFIED="1426313386774" TEXT="HTML解析的生存建议"><node CREATED="1426313386774" ID="502s8qhq8pvtpjr0bv4gr50so1" MODIFIED="1426313386774" TEXT="《Web Application Obfuscation》"/><node CREATED="1426313386774" ID="07478dbnm2bg0tb79be4v9irve" MODIFIED="1426313386774" TEXT="标签清理"><node CREATED="1426313386774" ID="4ealmk0akjldp2me4uoe25kj8n" MODIFIED="1426313386774" TEXT="采用一个实际的解析器，把输入的文档先翻译成在内存里的层级文档树，然后去除无法识别的标签和参数，以及所有不需要的标签/参数/参数值设置"/></node></node></node><node CREATED="1426313386774" ID="3fqrao6mtelrbshjs8dabbt47o" MODIFIED="1426313386774" POSITION="right" TEXT="HTML实体编码"><node CREATED="1426313386774" ID="71rlkv535cf7d7b71np5a20kkm" MODIFIED="1426313386774" TEXT="实体编码"><node CREATED="1426313386774" ID="4ssjf7ktg1a89aafn11ekpiaab" MODIFIED="1426313386774" TEXT="格式"><node CREATED="1426313386774" ID="48cj3ucp1sus02r1257qf35jmu" MODIFIED="1426313386774" TEXT="&amp;开头，分号结尾"/></node><node CREATED="1426313386774" ID="5hfshqqvu7v0j5bfv44m527p53" MODIFIED="1426313386774" TEXT="实体"><node CREATED="1426313386774" ID="07pq48krrkcf7cv9ucjlmv1ced" MODIFIED="1426313386774" TEXT="命名实体（如&amp;gt;）"/><node CREATED="1426313386774" ID="3qpod1iepj5kbue64g4arufbqk" MODIFIED="1426313386774" TEXT="&quot;#&quot;加上任意十进制ASCII码或Unicode码（如&amp;#60;，&amp;#128569;）"/><node CREATED="1426313386774" ID="00h2c4joeka2mbp7obv2i4bl68" MODIFIED="1426313386774" TEXT="&quot;#x&quot;加上十六进制（如&amp;#x3c;）"/></node></node><node CREATED="1426313386774" ID="17mreiires5v1tuuhvpbjavn8h" MODIFIED="1426313386774" TEXT="HTML解析器能识别文本节点和参数值里的实体编码"/><node CREATED="1426313386774" ID="2kv9pms1q9844qmuin18u7k1d3" MODIFIED="1426313386774" TEXT="陷阱"><node CREATED="1426313386774" ID="1rj6vmcuof11707g8q6ehmkdhb" MODIFIED="1426313386774" TEXT="如果实体名称后跟着的字符不是字母数字，即使没有最后的分号也可以接受"/><node CREATED="1426313386774" ID="3eqfrqicdc3fr12dhqlsph3o3h" MODIFIED="1426313386774" TEXT="数字型实体的数值可能超过上限"/><node CREATED="1426313386774" ID="7169akigs76ttmsm06de0l5mf9" MODIFIED="1426313386774" TEXT="HTML实体在大多数特殊解析模式下不起作用，但XHTML里不能自动切换到特殊解析模式里"/></node></node><node CREATED="1426313386774" ID="1j0m0454eaptog09hbudvfrl9d" MODIFIED="1426313386774" POSITION="right" TEXT="HTTP/HTML交互语义"><node CREATED="1426313386774" ID="0laa3usumime3e7dhr5h0s2qh7" MODIFIED="1426313386774" TEXT="场景"><node CREATED="1426313386774" ID="0i31ha9lq6n080t82kt8s7a76u" MODIFIED="1426313386774" TEXT="直接加载本地文件或不通过HTTP无法传递HTTP头域的信息"/></node><node CREATED="1426313386775" ID="74r7h3u4valtua9klha8jk0sb5" MODIFIED="1426313386775" TEXT="解决"><node CREATED="1426313386775" ID="50ikb9ehsfvgfrj644i3ceiqpe" MODIFIED="1426313386775" TEXT="&lt;meta http-equiv=...&gt;"/><node CREATED="1426313386775" ID="5mphvsvomd5ni06b7j5ui78fme" MODIFIED="1426313386775" TEXT="问题"><node CREATED="1426313386775" ID="6n8ka7nl9rsdnc5nkch6lfcgon" MODIFIED="1426313386775" TEXT="在读取本条前，浏览器已经做出某些判断，无法切换回不兼容的编码"/><node CREATED="1426313386775" ID="6e4i2otmcq7b9t736d2nqinj8a" MODIFIED="1426313386775" TEXT="多个http-equiv冲突或与从服务器端返回的HTTP响应头冲突时，浏览器表现不一致"><node CREATED="1426313386775" ID="0bct3osg697vhbc72s9cb3fudr" MODIFIED="1426313386775" TEXT="响应头 &gt; 第一个charset &gt; 第二个charset &gt; ..."/><node CREATED="1426313386775" ID="6vqukujr529gf3c8v7nmb1pqen" MODIFIED="1426313386775" TEXT="Refresh值根据浏览器而异"/></node></node></node></node><node CREATED="1426313386775" ID="5d949b41pqi0k48d1sp7tiht3k" MODIFIED="1426313386775" POSITION="left" TEXT="超链接和内容包含"><node CREATED="1426313386775" ID="381bhs8lkf63icjh025fjqfbfg" MODIFIED="1426313386775" TEXT="单纯的链接"><node CREATED="1426313386775" ID="7lr2oa0ntoegb326ael0qa1058" MODIFIED="1426313386775" TEXT="指向浏览器支持的所有协议（包括伪协议）"/><node CREATED="1426313386775" ID="71rj35d18mcem6h9e46u1kd329" MODIFIED="1426313386775" TEXT="target"><node CREATED="1426313386775" ID="2f1v4isama04fhvmbn77g0rocn" MODIFIED="1426313386775" TEXT="_blank"><node CREATED="1426313386775" ID="0r722f8aj9392pdfk3tmm7ho8f" MODIFIED="1426313386775" TEXT="总是打开新窗口"/></node><node CREATED="1426313386775" ID="02e5t9hhm5c67ung8dpm6e5nrj" MODIFIED="1426313386775" TEXT="_parent"><node CREATED="1426313386775" ID="3lr88kprr48651g97tpd6alngf" MODIFIED="1426313386775" TEXT="转到包含发出当前链接请求文档的上一级视图"/></node><node CREATED="1426313386775" ID="5g94sldgskpcn1uaejao09c3lo" MODIFIED="1426313386775" TEXT="_top"><node CREATED="1426313386775" ID="0b8hgoclv7vc8o6t8rghmdb348" MODIFIED="1426313386775" TEXT="转到浏览器最顶级窗口"/></node><node CREATED="1426313386775" ID="6c821paakfa7p5vd0lvnru0qqs" MODIFIED="1426313386775" TEXT="_self"><node CREATED="1426313386775" ID="7a3laabeho824ur019ak4ml5lr" MODIFIED="1426313386775" TEXT="和没有设置这个值一样"/></node></node></node><node CREATED="1426313386775" ID="2sdeqlup4smkhrs6iscorbuk7a" MODIFIED="1426313386775" TEXT="表单和表单触发的请求"><node CREATED="1426313386775" ID="4o1cvr0olst4rscq328od6hc56" MODIFIED="1426313386775" TEXT="类似&lt;a&gt;"><node CREATED="1426313386775" ID="6nk2vgulacjeqbdg8vcuhagqkq" MODIFIED="1426313386775" TEXT="action与href相似，但是空缺时会提交回当前文档"/><node CREATED="1426313386775" ID="54mii0fmro9kdd0a84jnpmh6dv" MODIFIED="1426313386775" TEXT="target与链接里的一样"/><node CREATED="1426313386775" ID="2p7id1hbgvmb3cc4jhd8aqq3rn" MODIFIED="1426313386775" TEXT="表单不能嵌套，只有最外层的有效"/></node><node CREATED="1426313386775" ID="471j3k7d2beats8hvtfo9vbet2" MODIFIED="1426313386775" TEXT="method"><node CREATED="1426313386775" ID="0hs19rl6chcl6m8l46nlfel14d" MODIFIED="1426313386775" TEXT="GET或未设置"><node CREATED="1426313386775" ID="75mo5v8qqqh7k95ma076vn6g8e" MODIFIED="1426313386775" TEXT="百分号编码转义"><node CREATED="1426313386775" ID="3b2d6b4vpph8e46l5o6i898hl9" MODIFIED="1426313386775" TEXT="空格转为+"/><node CREATED="1426313386775" ID="2ntrjp52gc0tdbu7jc4mso53mv" MODIFIED="1426313386775" TEXT="+转为%2B"/></node><node CREATED="1426313386775" ID="0q2h8o4so4a6va2292keo0ivq4" MODIFIED="1426313386775" TEXT="拼接为查询字符串（原来的查询字符串删掉）"/></node><node CREATED="1426313386775" ID="27cvn7bbj3i2ivucckf9o9gefu" MODIFIED="1426313386775" TEXT="POST"><node CREATED="1426313386775" ID="17had6fgcblhq2jekcmk5n1o69" MODIFIED="1426313386775" TEXT="默认（application/x-www-form-urlencode）"><node CREATED="1426313386775" ID="6p4hg9tsjf0pd9qvdtkbcg37a7" MODIFIED="1426313386775" TEXT="信息组成与GET一样，但是会放到请求头的数据体部分提交"/><node CREATED="1426313386775" ID="1iqfebt7dt2hsc5fp36g5ep5fq" MODIFIED="1426313386775" TEXT="目标URL的查询字符串和其他部分不变"/></node><node CREATED="1426313386776" ID="4qf3ovpt6vm6v6rhib6ubi8o3c" MODIFIED="1426313386776" TEXT="额外的把&lt;form&gt;标签里的编码设置为enctype=&quot;text/plain&quot;"><node CREATED="1426313386776" ID="6p9q1a4uu5np3it672akcjijk4" MODIFIED="1426313386776" TEXT="很难证明其正当性"><node CREATED="1426313386776" ID="6eian0l99aka9ul9f2e4ba6uk6" MODIFIED="1426313386776" TEXT="无法明确地对数据进行解析"/></node><node CREATED="1426313386776" ID="58tb1ln6aeh5ervqd9qpnr4cm9" MODIFIED="1426313386776" TEXT="字段名称和值不会百分号编码（部分浏览器会把空格变加号）"/><node CREATED="1426313386776" ID="6oj0gd2k06b3o5iran4t8puljk" MODIFIED="1426313386776" TEXT="分隔符为换行"/></node><node CREATED="1426313386776" ID="04fk0km8c9t5v9fib2vcvmdjqj" MODIFIED="1426313386776" TEXT="enctype=&quot;multipart/form-data&quot;"><node CREATED="1426313386776" ID="476kuikkbb8dc38t6mdbmpcmsv" MODIFIED="1426313386776" TEXT="提交文件时使用"/><node CREATED="1426313386776" ID="57m9mon0k7o3qvj781otjv5qi8" MODIFIED="1426313386776" TEXT="产生一系列较短的MIME消息，对应于提交的每个字段"/><node CREATED="1426313386776" ID="3qu91hkhsjc84ssa9v7lj7js8f" MODIFIED="1426313386776" TEXT="分隔符为客户端选择的具有随机性、不会出现在数据中的特定符号"/></node></node></node><node CREATED="1426313386776" ID="36o7iftf4n10qeuja32tli7t9q" MODIFIED="1426313386776" TEXT="注意"><node CREATED="1426313386776" ID="3samtivpbv0oc802c8tj0lg2i8" MODIFIED="1426313386776" TEXT="HTTP参数污染"><node CREATED="1426313386776" ID="1cr4kfh1vphuun702jd1bhkal3" MODIFIED="1426313386776" TEXT="同一个参数多次出现，不同浏览器做法不同"/></node></node></node><node CREATED="1426313386776" ID="0mudelsvp8c3l6cueusj5t6ilj" MODIFIED="1426313386776" TEXT="框架"><node CREATED="1426313386776" ID="6nn9p44kk05nrqler7j03d58ev" MODIFIED="1426313386776" TEXT="作用"><node CREATED="1426313386776" ID="7t8due0cgc9fqfmibddafqrrpl" MODIFIED="1426313386776" TEXT="使HTML文档内嵌和显示在另一个页面中"/><node CREATED="1426313386776" ID="5ucverasq5t3cb2p9r89qj8611" MODIFIED="1426313386776" TEXT="独立的文档视图（甚至独立的JS环境）"/><node CREATED="1426313386776" ID="7qi7a3eboappgdsc8ij4rqhrom" MODIFIED="1426313386776" TEXT="src值即URL地址的限定"/></node><node CREATED="1426313386776" ID="0c0qtcagv878nt3k2ibndmo4fq" MODIFIED="1426313386776" TEXT="常用"><node CREATED="1426313386776" ID="42agfi1qje2s8fmksmbrpl0ctt" MODIFIED="1426313386776" TEXT="iframe"/></node><node CREATED="1426313386776" ID="2i0c9orkl2hv2djmrmjv9mg93p" MODIFIED="1426313386776" TEXT="详细讨论"><node CREATED="1426313386776" ID="3gaqb9klbi7hm5t4odi6jq9lfb" MODIFIED="1426313386776" TEXT="第11章"/></node></node><node CREATED="1426313386776" ID="56c4ouh6vgl2kkdfc31q8e0dge" MODIFIED="1426313386776" TEXT="特定类型的内容包含"><node CREATED="1426313386776" ID="75bjpc8r64asugf5t1ra7v3bgm" MODIFIED="1426313386776" TEXT="图片"><node CREATED="1426313386776" ID="70td4lsti7im1fg64inuat6ios" MODIFIED="1426313386776" TEXT="图片类型"><node CREATED="1426313386776" ID="7et0riodndvdrit87qodiv8248" MODIFIED="1426313386776" TEXT="常见：JPEG（质量一般效率高）、PNG（质量好功能多加载慢）、GIF（日趋停用）"/><node CREATED="1426313386776" ID="0k7gp0a9lm73fgks7rfsqvd0mp" MODIFIED="1426313386776" TEXT="BMP：未经压缩，很少见到"/><node CREATED="1426313386776" ID="2ahsoroo1clqfa8ivtcl1gouth" MODIFIED="1426313386776" TEXT="SVG：有额外限制"/><node CREATED="1426313386776" ID="6frpgab0ng0hl61ln1qpnbbfsq" MODIFIED="1426313386776" TEXT="还可能识别：WMF/EMF，WDP/HDP，ICO，APNG，TIFF，WebP"/></node></node><node CREATED="1426313386776" ID="3ju57mjrrk9si62vnc1k8pi4vh" MODIFIED="1426313386776" TEXT="CSS"><node CREATED="1426313386776" ID="20pr5sv0mupc4tj1knd1skuk2j" MODIFIED="1426313386776" TEXT="加载"><node CREATED="1426313386776" ID="3agkal5dp7g06heduubef63qrt" MODIFIED="1426313386776" TEXT="&lt;link rel=stylesheet href=...&gt;"/><node CREATED="1426313386776" ID="6jetiv0638k6iquagj1eca0hfa" MODIFIED="1426313386776" TEXT="&lt;style src=...&gt;"/></node><node CREATED="1426313386776" ID="11nsc2ln9ani51jj75ki5u7fe0" MODIFIED="1426313386776" TEXT="字符集"><node CREATED="1426313386776" ID="6npki4mk8sa52pr7vgqjioodef" MODIFIED="1426313386776" TEXT="如果下载CSS的Content-Type中没有，可以在&lt;link&gt;标签中设置charset"/></node><node CREATED="1426313386776" ID="0j6ma3c2q6abb84njm1deioukt" MODIFIED="1426313386776" TEXT="详细讨论"><node CREATED="1426313386776" ID="0rsl7373u8viqtoeak1af1rl7q" MODIFIED="1426313386776" TEXT="第5章"/></node></node><node CREATED="1426313386776" ID="4eo6fplanlf8kbkfennfla7lqn" MODIFIED="1426313386776" TEXT="客户端脚本"><node CREATED="1426313386777" ID="4ohrpi4gj0m6rfs83m5osis0gv" MODIFIED="1426313386777" TEXT="&lt;script&gt;"><node CREATED="1426313386777" ID="3b4f7ummj6birkv3oi02bmtvgn" MODIFIED="1426313386777" TEXT="Javascript"/><node CREATED="1426313386777" ID="0tojv4lej9jgjeh309jdbfilgu" MODIFIED="1426313386777" TEXT="VB Script"/></node><node CREATED="1426313386777" ID="58kr0uij8qdme1n32ona09nmnf" MODIFIED="1426313386777" TEXT="详细讨论"><node CREATED="1426313386777" ID="067a5jc41mbhsma6n6lu60u9av" MODIFIED="1426313386777" TEXT="第6章"/></node></node><node CREATED="1426313386777" ID="4oi9qtqt287eomue1q98lj6ju6" MODIFIED="1426313386777" TEXT="插件内容"><node CREATED="1426313386777" ID="7qe0vilc4ch7k1gods4deqb5es" MODIFIED="1426313386777" TEXT="以&lt;embed&gt;、&lt;object&gt;和已停用的&lt;applet&gt;方式包含的二进制文件"/><node CREATED="1426313386777" ID="4donipsn7c0u6g5gumd21sc48g" MODIFIED="1426313386777" TEXT="详细讨论"><node CREATED="1426313386777" ID="0sno23upq3c6kvb0uc1cfhqun6" MODIFIED="1426313386777" TEXT="第8、9章"/></node></node><node CREATED="1426313386777" ID="79cct6iecs1c0rsuum9vjkmg61" MODIFIED="1426313386777" TEXT="其他额外的内容类型"><node CREATED="1426313386777" ID="0tj97o6f62qrc4obk3p3iqoqge" MODIFIED="1426313386777" TEXT="&lt;link&gt;"/><node CREATED="1426313386777" ID="23kklpb476ketlccgdl1tt5sc2" MODIFIED="1426313386777" TEXT="&lt;bgsound&gt; -&gt; &lt;video&gt;、&lt;audio&gt;"/><node CREATED="1426313386777" ID="4fjg6hcac8207rcngmvgst0iuo" MODIFIED="1426313386777" TEXT="加载各种类型相关的内容时，对允许接受的URL策略缺乏统一的处理"><node CREATED="1426313386777" ID="4iuiurj2ghkfs8b170eir7f48t" MODIFIED="1426313386777" TEXT="一般会拒绝和脚本相关的协议"/><node CREATED="1426313386777" ID="3lt406k4n8oon104gnadgt5k0q" MODIFIED="1426313386777" TEXT="IE6、Opera：允许"/><node CREATED="1426313386777" ID="20dj2ehdl9ac4i6n0n5unsavmt" MODIFIED="1426313386777" TEXT="Firefox：&lt;embed&gt;、&lt;applet&gt;允许javascript:，&lt;img&gt;不允许"/></node></node></node><node CREATED="1426313386777" ID="1ld3afcoldshqo228o743mhmvt" MODIFIED="1426313386777" TEXT="关于跨站请求伪造"><node CREATED="1426313386777" ID="2psq4r2sjqfiaqfv0ku033cu85" MODIFIED="1426313386777" TEXT="详见第9章"/></node></node><node CREATED="1426313386777" ID="6sh4dakq9ds2opfg6ppj9okerc" MODIFIED="1426313386777" POSITION="left" TEXT="安全工程速查表"><node CREATED="1426313386777" ID="3amtck145c6b1jlvuftchg9tqv" MODIFIED="1426313386777" TEXT="对各种HTML文档均适用的良好规范"><node CREATED="1426313386777" ID="32d8u8au9rl562lt23o2mhc2qf" MODIFIED="1426313386777" TEXT="确保输出统一有效的Content-Type和charset"/></node><node CREATED="1426313386777" ID="6ko0hm2u7r5qtfbaenfdfo758t" MODIFIED="1426313386777" TEXT="HTML文档里包含由攻击者控制的信息时"><node CREATED="1426313386777" ID="6e3ahlcfu38n6a1ucpjvplhpi8" MODIFIED="1426313386777" TEXT="针对文本部分里的用户提供内容"><node CREATED="1426313386777" ID="5f3qj8r7pkldihkaej3138mck2" MODIFIED="1426313386777" TEXT="总是用实体编码处理&quot;&lt;&quot;，&quot;&gt;&quot;，&quot;&amp;&quot;"/><node CREATED="1426313386777" ID="70hio7d4ro3rvh6f4qtud1sk85" MODIFIED="1426313386777" TEXT="对某些ASCII格式不兼容的输出编码处理"/></node><node CREATED="1426313386777" ID="6dqfgns4c5qnfhmqbfuctbfj6g" MODIFIED="1426313386777" TEXT="针对style和on*标签的参数"><node CREATED="1426313386777" ID="66v3k10hakpd2lpr1oo61a1v75" MODIFIED="1426313386777" TEXT="需做多重编码转义处理"/><node CREATED="1426313386777" ID="2np4unpqt0ba7fqeastcl8o30j" MODIFIED="1426313386777" TEXT="参加5、6章"/></node><node CREATED="1426313386777" ID="31gs4ghvrit7v4f6k75ke1cnqf" MODIFIED="1426313386777" TEXT="所有其他的HTML参数值"><node CREATED="1426313386777" ID="7k84b77t3fiphjequp5sb26jl4" MODIFIED="1426313386777" TEXT="对攻击者能控制的输入用引号括起来"/><node CREATED="1426313386777" ID="12ll9dmdnaj5i7un8bp483ka2d" MODIFIED="1426313386777" TEXT="总是用实体编码处理&quot;&lt;&quot;，&quot;&gt;&quot;，&quot;&amp;&quot;和引号"/><node CREATED="1426313386777" ID="4i2rd4uc9c61hhdq6u995q1qol" MODIFIED="1426313386777" TEXT="不要对URL或其他参数里有问题的值做黑名单验证，可能适得其反"/></node><node CREATED="1426313386777" ID="5eupoh2d8nlvv15p3bha1ljuuf" MODIFIED="1426313386777" TEXT="特殊的解析模式"><node CREATED="1426313386777" ID="63o9qa5f69uasi6g4j0ojmd9iq" MODIFIED="1426313386777" TEXT="在用双引号括起来的字符串里，对引号、&quot;&lt;&quot;、&quot;&gt;&quot;和所有非打印字符恰当的转义"/><node CREATED="1426313386777" ID="0rrnbol27d5k60lhjmt5u0rgbj" MODIFIED="1426313386777" TEXT="没有引号括起的部分，只允许出现仔细校验过的内容或只能是字母数字"/><node CREATED="1426313386777" ID="30l7olr2bkvooeige5gmn7ebmc" MODIFIED="1426313386777" TEXT="XHTML中，放在CDATA区块内，避免多重编码"/><node CREATED="1426313386777" ID="4qu8idq2hcn5k0uoen4q2b1289" MODIFIED="1426313386777" TEXT="不要把用户提供的数据放在注释、!类型、?类型的标签里"/></node></node><node CREATED="1426313386777" ID="0j9e8ihoh4ivp7fqgn4b16s71h" MODIFIED="1426313386777" TEXT="从HTML转化为纯文本"><node CREATED="1426313386778" ID="3q8farqvreg0mbj6l99g3rf2ck" MODIFIED="1426313386778" TEXT="常见错误是只处理了格式正确的标签"/></node><node CREATED="1426313386778" ID="3dunouos6kjhe5rkhj81cnl1le" MODIFIED="1426313386778" TEXT="为用户提供的内容开发一个标记过滤器时"><node CREATED="1426313386778" ID="1r3uhk4irn9pgf4r7obu7r533c" MODIFIED="1426313386778" TEXT="认真阅读本章"/><node CREATED="1426313386778" ID="65j9ln3crf0t2thhc4tm4dlb3r" MODIFIED="1426313386778" TEXT="禁止出现name和id参数"/><node CREATED="1426313386778" ID="4bnc0oa6eouh4ge1arijeqk9hj" MODIFIED="1426313386778" TEXT="不要试图就地清理一个经过序列化处理的现有文档"/></node></node></node></map>